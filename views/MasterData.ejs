<!-- @format -->

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BSE</title>

    <!-- Font Preloading -->
    <link
      rel="preload"
      href="/public/fonts/CassandraPersonalUse/CassandraPersonalUse-Regular.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />
    <link
      rel="preload"
      href="/public/fonts/CerebriSansPro/CerebriSansPro-Regular.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />

    <!-- title logo -->
    <link rel="icon" href="/public/images/bse.png" type="image/icon type" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css?v=2"
    />

    <!-- Bootstrap 
<link href="/public/plugins/bootstrap/css/bootstrap.min.css?v=2" rel="stylesheet" />
<script src="/public/plugins/bootstrap/js/bootstrap.min.js?v=2"></script> -->

    <!-- MDB5  -->
    <link
      href="/public/plugins/MDB5-7.2.0/css/mdb.min.css?v=2"
      rel="stylesheet"
    />
    <script src="/public/plugins/MDB5-7.2.0/js/mdb.es.min.js?v=2"></script>

    <!-- jQuery -->
    <script src="/public/plugins/jquery/jquery.min.js?v=2"></script>

    <!-- Select2 -->
    <link
      rel="stylesheet"
      href="/public/plugins/select2/css/select2.min.css?v=2"
    />
    <script src="/public/plugins/select2/js/select2.min.js?v=2"></script>

    <!-- DataTable -->
    <link
      rel="stylesheet"
      href="/public/plugins/dataTables/datatables.min.css?v=2"
    />
    <script src="/public/plugins/dataTables/datatables.min.js?v=2"></script>
    <script src="/public/plugins/dataTables/dataTables.bootstrap5.min.js?v=2"></script>
    <!-- Responsive Datatable -->
    <link
      rel="stylesheet"
      href="/public/plugins/dataTables/datatables.responsive.min.css?v=2"
    />
    <script src="/public/plugins/dataTables/datatables.responsive.min.js?v=2"></script>

    <!-- Toast -->
    <link rel="stylesheet" href="/public/plugins/Toastr/toastr.min.css?v=2" />
    <script src="/public/plugins/Toastr/toastr.min.js?v=2"></script>

    <!-- perfect-scrollbar plugin -->
    <script src="/public/plugins/perfect-scrollbar/perfect-scrollbar.min.js?v=2"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="/public/plugins/font-awesome/css/all.min.css?v=2"
    />

    <!-- jQuery Confirm -->
    <link
      rel="stylesheet"
      href="/public/plugins/jquery-confirm/css/jquery-confirm.min.css?v=2"
    />
    <script src="/public/plugins/jquery-confirm/js/jquery-confirm.min.js?v=2"></script>

    <!-- Slide-in Panel -->
    <link
      rel="stylesheet"
      href="/public/plugins/slide-in-panel/css/slidePanel.min.css?v=2"
    />
    <script src="/public/plugins/slide-in-panel/js/slidePanel.min.js?v=2"></script>

    <!-- Tippy -->
    <link rel="stylesheet" href="/public/plugins/tippy/scale.css?v=2" />
    <script src="/public/plugins/tippy/popper.min.js?v=2"></script>
    <script src="/public/plugins/tippy/tippy-bundle.umd.min.js?v=2"></script>

    <!-- International Phone Input -->
    <!-- <link
    rel="stylesheet"
    href="public/plugins/international-phoneno/css/international-telephone-input.css?v=2"
  />
  <script src="public/plugins/international-phoneno/js/international-telephone-input.js?v=2"></script> -->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/public/css/style.css?v=2" />

    <!-- Custom Script -->
    <script src="/public/custom/App.js?v=2"></script>

    <style type="text/css">
      @font-face {
        font-family: "CassandraPersonalUse";
        src: url("/public/fonts/CassandraPersonalUse/CassandraPersonalUse-Regular.ttf?v=2")
          format("truetype");
      }

      @font-face {
        font-family: "CerebriSansPro-Regular";
        src: url("/public/fonts/CerebriSansPro/CerebriSansPro-Regular.ttf?v=2")
          format("truetype");
      }

      body {
        font-family: "CerebriSansPro-Regular";
        background-color: #f7f9fd;
      }

      #closeVehiclePanelBtn,
      .panelClose {
        cursor: pointer;
      }

      .toast {
        opacity: 1 !important;
      }

      .show-dot {
        display: none !important;
      }

      #lastMenu {
        border-right: 0px solid #414a57;
      }

      .bg-danger,
      .btn-red {
        background-color: #ea5455;
      }

      table.dataTable th {
        text-align: left !important;
      }

      .topMenu-item,
      .topSubMenuContainer {
        display: block;
        color: rgb(44 44 44);
        text-align: center;
        /* padding: 0px; */
        text-decoration: none;
        /* border-right: 0px solid #1F2D3E; */
        /* padding-bottom: 3px !important; */
        width: 100px;
        cursor: pointer;
      }

      .topMenu-item:hover:not(.topMenu-item-active),
      .topSubMenuContainer:hover {
        /* border-bottom: 1px solid #ea5455; */
        color: #ea5455 !important;
        /* font-weight: bold; */
        transition: right 0.3s ease;
        cursor: pointer;
      }

      .topMenu-item-active {
        /* border-bottom: 1px solid #ea5455; */
        color: #ea5455 !important;
        /* background-color: #f07b3f; */
        /* border-radius: 8px; */
        transition: right 0.3s ease;
        /* font-weight: bold; */
      }

      .topMenu-item-active .icon-button {
        /* border-bottom: 1px solid #ea5455; */
        background-color: #ea5455 !important;
        color: white;

        /* background-color: #f07b3f; */
        /* border-radius: 8px; */
        transition: right 0.3s ease;
        /* font-weight: bold; */
      }

      .topSubMenu-item,
      .topSalesSubMenu-item,
      .topProcurementSubMenu-item {
        /* color: #14274e !important; */
        width: 100px;
      }

      .topSubMenu-item:hover:not(.topSubMenu-item-active),
      .topSalesSubMenu-item:hover:not(.topSubMenu-item-active),
      .topProcurementSubMenu-item:hover:not(.topSubMenu-item-active) {
        border-bottom: 1px solid #ea5455;
        color: #ea5455 !important;
        /* font-weight: bold; */
        transition: right 0.3s ease;
        cursor: pointer;
      }

      .topSubMenu-item-active {
        border-bottom: 1px solid #ea5455;
        color: #ea5455 !important;
        /* background-color: #f07b3f; */
        /* border-radius: 8px; */
        transition: right 0.3s ease;
        /* font-weight: bold; */
      }

      .tippy-box[data-theme~="tomato"] {
        background-color: #4f4f4f;
        color: white;
      }

      #tippy-2 .tippy-box {
        max-width: 450px !important;
      }

      #tippy-3 .tippy-box {
        max-width: 400px !important;
      }

      .view,
      .edit,
      .del {
        cursor: pointer;
      }

      .slideInPanel {
        z-index: 9999;
        position: fixed;
        top: 0;
        bottom: 0;
        right: -600px;
        width: 400px;
        background-color: #1f2d3e;
        color: #e3e3e3;
        height: 90vh;
        /* box-shadow: 0 0 0px rgba(0, 0, 0, 0.2); */
        transition: right 0.3s ease;
        border-radius: 8px;
      }

      /* Input */
      .slideInPanel input {
        background-color: transparent;
        border-color: rgba(98, 114, 147, 0.6);
      }

      .slideInPanel input:focus {
        background-color: transparent;
      }

      .slideInPanel input:hover {
        border-color: #627293;
      }

      /* Select */
      .slideInPanel .select2-container {
        background-color: transparent !important;
        border-color: rgba(98, 114, 147, 0.6) !important;
        color: 627293 !important;
      }

      .select2-container {
        width: 100% !important;
      }

      .select2-selection__rendered,
      .select2-selection__clear,
      .select2-selection__arrow {
        color: white !important;
        margin-top: 0.25rem !important;
      }

      .slideInPanel .select:focus {
        background-color: transparent;
        border-color: #627293;
      }

      .slideInPanel .select2-container:hover {
        border-color: #627293;
      }

      /* TextArea */
      .slideInPanel textarea {
        background-color: transparent;
        border-color: rgba(98, 114, 147, 0.6);
      }

      .slideInPanel textarea:focus {
        background-color: transparent;
      }

      .slideInPanel textarea:hover {
        border-color: #627293;
      }

      /* Form Control */
      .slideInPanel .form-control {
        color: #f7f9fc;
      }

      .slideInPanel .form-control::placeholder {
        color: #627293;
      }

      .select2-selection::placeholder {
        color: #627293;
      }

      /* Table Pagination */
      .page-item.active .page-link {
        color: #fff !important;
        background-color: #ea5455 !important;
        border-color: #ea5455 !important;
      }

      .page-link {
        color: #000 !important;
        background-color: #fff !important;
        border: 1px solid #dee2e6 !important;
      }

      .page-link:hover {
        color: #fff !important;
        background-color: #f17979 !important;
        border-color: #ea5455 !important;
      }

      .select2-selection {
        background-color: transparent !important;
        border-color: rgba(98, 114, 147, 0.6) !important;
        height: 35px !important;
      }

      .select2-dropdown {
        z-index: 10000 !important;
      }

      .icon-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        background-color: white;
        /* border: 2px solid #ddd; */
        border-radius: 50%;
        /* box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); */
        text-decoration: none;
        color: #333;
        transition:
          background-color 0.3s,
          color 0.3s,
          box-shadow 0.3s;
      }

      .icon-button i {
        font-size: 12px;
      }

      .icon-label {
        font-size: 14px;
        font-weight: 600;
      }
    </style>
  </head>

  <body>
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------------ Top Menu Container ----------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div
      class="topMenu-container d-flex justify-content-center mt-0 overflow-auto"
    >
      <div
        class="topMenu-item topMenu-item-active divisionMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-table-cells-large"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Division</span>
        </div>
      </div>

      <div
        class="topMenu-item locationMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-location-dot"></i>
        </div>

        <div class="icon-label pt-2">
          <span>Location</span>
        </div>
      </div>

      <div
        class="topMenu-item unitMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-warehouse"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Units</span>
        </div>
      </div>

      <div
        class="topSubMenuContainer procurementTopMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-cart-shopping"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Procurement</span>
        </div>
      </div>

      <div
        class="topSubMenuContainer productTopMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-shrimp"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Production</span>
        </div>
      </div>

      <div
        class="topSubMenuContainer salesTopMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-bag-shopping"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Sales</span>
        </div>
      </div>

      <div
        class="topMenu-item vehicleMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-solid fa-truck"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Vehicles</span>
        </div>
      </div>

      <div
        class="topMenu-item driverMenu d-flex flex-column justify-content-center align-items-center mx-3 p-2"
      >
        <div class="icon-button shadow">
          <i class="fa-regular fa-id-card"></i>
        </div>
        <div class="icon-label pt-2">
          <span>Drivers</span>
        </div>
      </div>
    </div>
    <!-- Top Menu Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Division Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container divisionContainer d-none">
      <!-- Slide-in Panel -->
      <div id="divisionSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="divisionPanelHeading" class="fw-bold fs-5"
                >Add Division Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeDivisionPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="division-name">Division Name</label>
              <input
                id="division_name"
                class="form-control"
                type="text"
                placeholder="eg. Chennai"
                name="division-name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="Description">Description</label>
              <input
                id="description"
                class="form-control"
                placeholder="eg. AJs"
                type="text"
                name="Description"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitDivision" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetDivisionDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openDivisionPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="divisionTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Division Name</span></th>
                <th class="fw-bold"><span>Description</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Division Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Location Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container locationContainer d-none">
      <!-- Slide-in Panel -->
      <div id="locationSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="locationPanelHeading" class="fw-bold fs-5"
                >Add Location Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeLocationPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="location-name">Location Name</label>
              <input
                id="location_name"
                class="form-control"
                type="text"
                placeholder="eg. Chennai"
                name="location-name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="Description">Description</label>
              <input
                id="description"
                class="form-control"
                placeholder="eg. AJs"
                type="text"
                name="Description"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitLocation" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetLocationDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openLocationPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="locationTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Location Name</span></th>
                <th class="fw-bold"><span>Description</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Location Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Unit Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container unitContainer d-none">
      <!-- Slide-in Panel -->
      <div id="unitSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="unitPanelHeading" class="fw-bold fs-5"
                >Add Unit Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeUnitPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="unit-name">Unit Name</label>
              <input
                id="unit_name"
                class="form-control"
                type="text"
                placeholder="eg. Chennai"
                name="unit-name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="Description">Location</label>
              <select
                class="form-control input-dropdown w-100"
                id="unitLocations"
                name="unitLocation"
              ></select>
            </div>

            <div class="form-group mt-4">
              <label for="unit-type">Unit Type</label>
              <select
                class="form-control input-dropdown w-100"
                id="unitType"
                name="unitType"
              ></select>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitUnit" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetUnitDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openUnitPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="unitTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Unit Code</span></th>
                <th class="fw-bold"><span>Unit Name</span></th>
                <th class="fw-bold"><span>Unit Type</span></th>
                <th class="fw-bold"><span>Location Name</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Unit Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Vendor Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container vendorContainer d-none">
      <!-- Slide-in Panel -->
      <div id="vendorSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="vendorPanelHeading" class="fw-bold fs-5"
                >Add Vendor Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeVendorPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="vendor-name">Vendor Name</label>
              <input
                id="vendor_name"
                class="form-control"
                type="text"
                placeholder="eg. Jone"
                name="vendor-name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="vendor-location">Location</label>
              <select
                class="form-control input-dropdown"
                id="vendorLocations"
                name="location"
              ></select>
            </div>

            <div class="form-group my-3">
              <label for="Representative">Representative</label>
              <input
                id="representative"
                class="form-control"
                placeholder="eg. AJs"
                type="text"
                name="Representative"
              />
            </div>

            <div class="form-group my-3">
              <label for="vendor_phoneno">Phone No</label>
              <input
                id="vendor_phone"
                class="form-control"
                type="tel"
                pattern="[6789][0-9]{9}"
                placeholder="eg. 9876543210"
                name="vendor_phoneno"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="email">Email</label>
              <input
                id="vendor_email"
                class="form-control"
                type="email"
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                title="Enter a valid email address"
                placeholder="eg. xyz@gmail.com"
                name="email"
              />
            </div>

            <div class="form-group my-3">
              <label for="address">Address</label>
              <textarea
                id="vendor_address"
                class="form-control"
                placeholder="eg. xyz"
                type="text"
                name="address"
                rows="4"
              ></textarea>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitVendor" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetVendorDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openVendorPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="vendorTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Vendor Name</span></th>
                <th class="fw-bold"><span>Location</span></th>
                <th class="fw-bold"><span>Representative</span></th>
                <th class="fw-bold"><span>Phone</span></th>
                <th class="fw-bold"><span>Email</span></th>
                <th class="fw-bold"><span>Address</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Vendor Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------------ Packaging Container ------------------------------------------------ -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container packagingContainer d-none">
      <!-- Slide-in Panel -->
      <div id="packagingSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="packagingPanelHeading" class="fw-bold fs-5"
                >Add Packaging Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closePackagingPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="">
              <div class="form-group my-3">
                <label for="packaging_type">Type</label>
                <select
                  class="form-control input-dropdown w-100"
                  id="packagingType"
                  name="packagingType"
                  required
                ></select>
              </div>

              <div class="form-group my-3">
                <label for="packagingLength">Length (cm)</label>
                <input
                  id="packagingLength"
                  maxlength="12"
                  class="form-control"
                  placeholder="eg. 12"
                  type="number"
                  name="packagingLength"
                />
              </div>

              <div class="form-group my-3">
                <label for="packagingWidth">Width (cm)</label>
                <input
                  id="packagingWidth"
                  maxlength="10"
                  class="form-control"
                  placeholder="eg. 12"
                  type="number"
                  name="packagingWidth"
                />
              </div>

              <div class="form-group my-3">
                <label for="packagingHeight">Height (cm)</label>
                <input
                  id="packagingHeight"
                  maxlength="10"
                  class="form-control"
                  placeholder="eg. 24"
                  type="number"
                  name="packagingHeight"
                />
              </div>

              <div class="form-group my-3">
                <label for="packagingWeight">Weight (kgs)</label>
                <input
                  id="packagingWeight"
                  maxlength="10"
                  class="form-control"
                  placeholder="eg. 24"
                  type="number"
                  name="packagingWeight"
                />
              </div>

              <div class="form-group my-3">
                <label for="packagingMaterialComposition"
                  >Material Composition</label
                >
                <select
                  id="packagingMaterialComposition"
                  class="form-control input-dropdown w-100"
                  name="packagingMaterialComposition"
                  required
                ></select>
              </div>

              <div class="form-group my-3">
                <label for="packagingSupplier">Supplier</label>
                <select
                  id="packagingSupplier"
                  class="form-control input-dropdown w-100"
                  name="packagingSupplier"
                  required
                ></select>
              </div>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitPackaging" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetPackagingDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openPackagingPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="packagingTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Code</span></th>
                <th class="fw-bold"><span>Type</span></th>
                <th class="fw-bold"><span>Length (cms)</span></th>
                <th class="fw-bold"><span>Width (cms)</span></th>
                <th class="fw-bold"><span>Height (cms)</span></th>
                <th class="fw-bold"><span>Weight (kgs)</span></th>
                <th class="fw-bold"><span>Material Composition</span></th>
                <th class="fw-bold"><span>Supplier</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Packaging Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Species Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container speciesContainer d-none">
      <!-- Slide-in Panel -->
      <div id="speciesSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="speciesPanelHeading" class="fw-bold fs-5"
                >Add Species Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeSpeciesPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="species-name">Species Name</label>
              <input
                id="species_name"
                class="form-control"
                type="text"
                placeholder="eg. Cuttle Fish"
                name="species_name"
                required
              />
            </div>

            <div class="form-group mt-4">
              <label for="species-code">Species Code</label>
              <input
                id="species_code"
                class="form-control"
                type="text"
                placeholder="eg. CF"
                name="species_code"
                required
              />
            </div>

            <div class="form-group mt-4">
              <label for="speciesDivision">Division Name</label>
              <select
                id="speciesDivision"
                class="form-control input-dropdown w-100"
                name="speciesDivision"
                required
              ></select>
            </div>

            <div class="form-group mt-4">
              <label for="species-code">Scientific Name</label>
              <input
                id="scientific_name"
                class="form-control"
                type="text"
                placeholder="eg. Sepia officinalis"
                name="scientific_name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="species_description">Description</label>
              <input
                id="species_description"
                class="form-control"
                placeholder="eg. Cuttlefish, or cuttles, are marine molluscs of the order Sepiida."
                type="text"
                name="species_description"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitSpecies" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetSpeciesDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openSpeciesPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="speciesTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Species Code</span></th>
                <th class="fw-bold"><span>Division Name</span></th>
                <th class="fw-bold"><span>Species Name</span></th>
                <th class="fw-bold"><span>Scientific Name</span></th>
                <th class="fw-bold"><span>Description</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Species Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------------- Grade Container ------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container gradeContainer d-none">
      <!-- Slide-in Panel -->
      <div id="gradeSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="gradePanelHeading" class="fw-bold fs-5"
                >Add Grade Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeGradePanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="species-name">Grade Name</label>
              <input
                id="grade_name"
                class="form-control"
                type="text"
                placeholder="eg. A"
                name="grade_name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="grade_description">Description</label>
              <input
                id="grade_description"
                class="form-control"
                placeholder="eg. 1st grade quality"
                type="text"
                name="grade_description"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitGrade" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetGradeDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openGradePanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="gradeTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Grade Name</span></th>
                <th class="fw-bold"><span>Description</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Grade Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------------- Size Container ------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container sizeContainer d-none">
      <!-- Slide-in Panel -->
      <div id="sizeSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="sizePanelHeading" class="fw-bold fs-5"
                >Add Size Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeSizePanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="species-name">Size Name</label>
              <input
                id="size"
                class="form-control"
                type="text"
                placeholder="eg. 1/2"
                name="size_name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="size_description">Description</label>
              <input
                id="size_description"
                class="form-control"
                placeholder="eg. half size"
                type="text"
                name="size_description"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitSize" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetSizeDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openSizePanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="sizeTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Size</span></th>
                <th class="fw-bold"><span>Description</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Size Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Product Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container productContainer d-none">
      <!-- Slide-in Panel -->
      <div id="productSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="productPanelHeading" class="fw-bold fs-5"
                >Add Product Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeProductPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="product-name">Species Name</label>
              <select
                id="productSpecies"
                class="form-control input-dropdown"
                name="productSpecies"
              ></select>
            </div>

            <div class="form-group mt-4">
              <label for="product-name">Product Category</label>
              <input
                id="product_category"
                class="form-control"
                type="text"
                placeholder="eg. HEAD"
                name="product_category"
                required
              />
            </div>

            <div class="form-group mt-4">
              <label for="productSizes">Sizes</label>
              <select
                id="productSizes"
                class="form-control input-dropdown"
                name="productSizes"
              ></select>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitProduct" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetProductDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openProductPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="productTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Product Name</span></th>
                <th class="fw-bold"><span>Species Name</span></th>
                <th class="fw-bold"><span>Product Category</span></th>
                <th class="fw-bold"><span>Size</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Product Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Inventory Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container inventoryContainer d-none">
      <!-- Slide-in Panel -->
      <div id="inventorySlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="inventoryPanelHeading" class="fw-bold fs-5"
                >Add Inventory Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeInventoryPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="inventory_name">Inventory Name</label>
              <input
                id="inventory_name"
                class="form-control"
                type="text"
                placeholder="eg. Salt"
                name="inventoryName"
                required
              />
            </div>

            <div class="form-group mt-4">
              <label for="inventory_uom">Unit of Measure</label>
              <input
                id="inventory_uom"
                class="form-control"
                type="text"
                placeholder="eg. Pack"
                name="inventoryUom"
                required
              />
            </div>

            <div class="form-group my-4">
              <label for="inventory-category">Category</label>
              <select
                id="inventory_category"
                class="form-control input-dropdown"
                name="inventoryCategory"
              ></select>
            </div>

            <div class="form-group mt-4">
              <label for="vendor">Supplier</label>
              <select
                id="inventory_supplier"
                class="form-control input-dropdown w-100"
                name="inventorySupplier"
              ></select>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitInventory" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetInventoryDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openInventoryPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="inventoryTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Inventory Name</span></th>
                <th class="fw-bold"><span>Unit of Measure</span></th>
                <th class="fw-bold"><span>Category</span></th>
                <th class="fw-bold"><span>Supplier</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Inventory Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------------ Vehicle Container ------------------------------------------------ -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container vehicleContainer d-none">
      <!-- Slide-in Panel -->
      <div id="vehicleSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="vehiclePanelHeading" class="fw-bold fs-5"
                >Add Vehicle Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeVehiclePanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="vehicle-number">Vehicle Number</label>
              <input
                id="vehicle_number"
                class="form-control"
                type="text"
                placeholder="eg. TN65A1234"
                name="vehicle-name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="Description">Vehicle Brand</label>
              <input
                id="vehicle_brand"
                class="form-control"
                placeholder="eg. Ashok Leyland"
                type="text"
              />
            </div>

            <div class="form-group my-3">
              <label for="Description">Model Number</label>
              <input
                id="model_number"
                class="form-control"
                placeholder="eg. 4020 - 4x2 Tractor"
                type="text"
              />
            </div>

            <div class="form-group my-3">
              <label for="InsuranceProvider">Insurance Provider</label>
              <input
                id="insurance_provider"
                class="form-control"
                placeholder="eg. Bajaj"
                type="text"
                name="InsuranceProvider"
              />
            </div>

            <div class="form-group my-3">
              <label for="InsuranceNumber">Insurance Number</label>
              <input
                id="insurance_number"
                class="form-control"
                placeholder="eg. BJ0123456"
                type="text"
                name="InsuranceNumber"
              />
            </div>

            <div class="form-group my-3">
              <label for="InsuranceExpiringOn">Insurance Expiring On</label>
              <input
                id="insurance_expiring_on"
                class="form-control"
                placeholder="27-02-2024"
                type="date"
                name="InsuranceExpiringOn"
              />
            </div>

            <div class="form-group my-3">
              <label for="LastFCDate">Last FC Date</label>
              <input
                id="last_fc_date"
                class="form-control"
                placeholder="27-02-2024"
                type="date"
                name="LastFCDate"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitVehicle" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetVehicleDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openVehiclePanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="vehicleTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Vehicle Number</span></th>
                <th class="fw-bold"><span>Vehicle Brand</span></th>
                <th class="fw-bold"><span>Model Number</span></th>
                <th class="fw-bold"><span>Insurance Provider</span></th>
                <th class="fw-bold"><span>Insurance Number</span></th>
                <th class="fw-bold"><span>Insurance Expiring On</span></th>
                <th class="fw-bold"><span>Last FC Date</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Vehicle Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------------ Driver Container ------------------------------------------------ -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container driverContainer d-none">
      <!-- Slide-in Panel -->
      <div id="driverSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="driverPanelHeading" class="fw-bold fs-5"
                >Add Driver Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeDriverPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="">
              <div class="form-group mt-4">
                <label for="driver-number">Driver Name</label>
                <input
                  id="driver_name"
                  class="form-control"
                  type="text"
                  placeholder="eg. xyz"
                  name="driver-name"
                  required
                />
              </div>

              <div class="form-group my-3">
                <label for="Description">License Number</label>
                <input
                  id="license_number"
                  class="form-control"
                  placeholder="eg. TN201902032323"
                  type="text"
                />
              </div>

              <div class="form-group my-3">
                <label for="Aadhar">Aadhar Number</label>
                <input
                  id="aadhar_number"
                  maxlength="12"
                  class="form-control"
                  placeholder="eg. 123456789012"
                  type="text"
                />
              </div>

              <div class="form-group my-3">
                <label for="Description">Contact Number</label>
                <input
                  id="driver_phone"
                  maxlength="10"
                  class="form-control"
                  placeholder="eg. 9876543210"
                  type="text"
                />
              </div>

              <div class="form-group my-3">
                <label for="Description">Emergency Contact</label>
                <input
                  id="emergency_contact"
                  maxlength="10"
                  class="form-control"
                  placeholder="eg. 9876543210"
                  type="text"
                />
              </div>

              <div class="form-group my-3">
                <label for="Description">Blood Group</label>
                <input
                  id="blood_group"
                  class="form-control"
                  placeholder="eg. B+"
                  type="text"
                />
              </div>

              <div class="form-group my-3">
                <label for="HealthHistory">Health History</label>
                <textarea
                  id="health_history"
                  rows="3"
                  class="form-control"
                  placeholder="eg. Diabetes"
                  name="Health History"
                >
                </textarea>
              </div>

              <div class="form-group my-3">
                <label for="Address">Address</label>
                <textarea
                  id="driver_address"
                  rows="3"
                  class="form-control"
                  placeholder="eg. Address"
                  name="Health History"
                >
                </textarea>
              </div>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitDriver" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetDriverDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openDriverPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="driverTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Driver Name</span></th>
                <th class="fw-bold"><span>License Number</span></th>
                <th class="fw-bold"><span>Phone</span></th>
                <th class="fw-bold"><span>Emergency Contact</span></th>
                <th class="fw-bold"><span>Aadhar Number</span></th>
                <th class="fw-bold"><span>Blood Group</span></th>
                <th class="fw-bold"><span>Health History</span></th>
                <th class="fw-bold"><span>Address</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Driver Container Ends -->

    <!-- Driver Container Ends -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Customer Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container customerContainer d-none">
      <!-- Slide-in Panel -->
      <div id="customerSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="customerPanelHeading" class="fw-bold fs-5"
                >Add Customer Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeCustomerPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="customer-name">Customer Name</label>
              <input
                id="customer_name"
                class="form-control"
                type="text"
                placeholder="eg. Jone"
                name="customer_name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="customer-address">Address</label>
              <textarea
                id="customer_address"
                class="form-control"
                placeholder="eg. xyz"
                type="text"
                name="customer_address"
                rows="4"
              ></textarea>
            </div>

            <div class="form-group my-3">
              <label for="customer-country">Country</label>
              <select
                class="form-control input-dropdown"
                id="customer_country"
                name="customer_country"
              ></select>
            </div>

            <div class="form-group my-3">
              <label for="phoneno">Phone No</label>
              <input
                id="customer_phone"
                class="form-control"
                title="Enter a valid Phone Number"
                placeholder="eg. 3128601946"
                type="tel"
                name="phone"
              />
            </div>

            <div class="form-group my-3">
              <label for="customer-email">Email</label>
              <input
                id="customer_email"
                class="form-control"
                type="email"
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                title="Enter a valid email address"
                placeholder="eg. xyz@gmail.com"
                name="customer_email"
              />
            </div>

            <div class="form-group my-3">
              <label for="customer-paymentterms">Payment Terms</label>
              <input
                id="customer_paymentterms"
                class="form-control"
                placeholder="eg. payment in 15 days"
                type="text"
                name="customer_paymentterms"
              />
            </div>

            <div class="form-group my-3">
              <label for="customer-credit">Credit Limit</label>
              <input
                id="customer_credit"
                class="form-control"
                placeholder="eg. 123222321223"
                type="text"
                name="customer_credit"
              />
            </div>

            <div class="form-group my-3">
              <label for="customer-type">Type</label>
              <select
                class="form-control input-dropdown"
                id="customer_type"
                name="customer_type"
              ></select>
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitCustomer" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetCustomerDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openCustomerPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="customerTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Name</span></th>
                <th class="fw-bold"><span>Address</span></th>
                <th class="fw-bold"><span>Country</span></th>
                <th class="fw-bold"><span>Phone</span></th>
                <th class="fw-bold"><span>Email</span></th>
                <th class="fw-bold"><span>Payment Terms</span></th>
                <th class="fw-bold"><span>Credit Limit</span></th>
                <th class="fw-bold"><span>Type</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Customer Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Price List Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container priceListContainer d-none">
      <!-- Slide-in Panel -->
      <div id="priceListSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="priceListPanelHeading" class="fw-bold fs-5"
                >Add Price List Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closePriceListPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="priceList_name">Price List Name</label>
              <input
                id="priceList_name"
                class="form-control"
                type="text"
                placeholder="eg. SH-01-Basic"
                name="priceList_name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="priceList_currency">Currency</label>
              <select
                class="form-control input-dropdown"
                id="priceList_currency"
                name="priceList_currency"
              ></select>
            </div>

            <div class="form-group my-3">
              <label for="priceList_product">Product Name</label>
              <select
                class="form-control input-dropdown"
                id="priceList_product"
                name="priceList_product"
              ></select>
            </div>

            <div class="form-group my-3">
              <label for="priceList_value">Amount</label>
              <input
                id="priceList_value"
                class="form-control"
                type="number"
                placeholder="eg. 120"
                name="priceList_value"
                required
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitPriceList" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetPriceListDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openPriceListPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="priceListTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th class="fw-bold"><span>Price List Name</span></th>
                <th class="fw-bold"><span>Currency</span></th>
                <th class="fw-bold"><span>Product Count</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Price List Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Carrier Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container carrierContainer d-none">
      <!-- Slide-in Panel -->
      <div id="carrierSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="carrierPanelHeading" class="fw-bold fs-5"
                >Add Carrier Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeCarrierPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="carrier_name">Carrier Name</label>
              <input
                id="carrier_name"
                class="form-control"
                type="text"
                placeholder="eg. Jone"
                name="carrier_name"
                required
              />
            </div>

            <div class="form-group my-3">
              <label for="carrier_address">Address</label>
              <textarea
                id="carrier_address"
                class="form-control"
                placeholder="eg. xyz"
                type="text"
                name="carrier_address"
                rows="4"
              ></textarea>
            </div>

            <div class="form-group my-3">
              <label for="carrier_country">Country</label>
              <select
                class="form-control input-dropdown"
                id="carrier_country"
                name="carrier_country"
              ></select>
            </div>

            <div class="form-group my-3">
              <label for="carrier_phoneno">Phone No</label>
              <input
                id="carrier_phone"
                class="form-control"
                title="Enter a valid Phone Number"
                placeholder="eg. 3128601946"
                type="tel"
                name="phone"
              />
            </div>

            <div class="form-group my-3">
              <label for="carrier_email">Email</label>
              <input
                id="carrier_email"
                class="form-control"
                type="email"
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                title="Enter a valid email address"
                placeholder="eg. xyz@gmail.com"
                name="carrier_email"
              />
            </div>

            <div class="form-group my-3">
              <label for="carrier_paymentterms">Payment Terms</label>
              <input
                id="carrier_paymentterms"
                class="form-control"
                placeholder="eg. payment in 15 days"
                type="text"
                name="carrier_paymentterms"
              />
            </div>

            <div class="form-group my-3">
              <label for="carrier_credit">Credit Limit</label>
              <input
                id="carrier_credit"
                class="form-control"
                placeholder="eg. 123222321223"
                type="text"
                name="carrier_credit"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitCarrier" class="col-lg-5 btn btn-danger">Save</div>
              <div
                id="resetCarrierDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openCarrierPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="carrierTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Name</span></th>
                <th class="fw-bold"><span>Address</span></th>
                <th class="fw-bold"><span>Country</span></th>
                <th class="fw-bold"><span>Phone</span></th>
                <th class="fw-bold"><span>Email</span></th>
                <th class="fw-bold"><span>Payment Terms</span></th>
                <th class="fw-bold"><span>Credit Limit</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Carrier Container Ends -->

    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <!-- ------------------------------------- Shipping Container ---------------------------------------------------- -->
    <!-- ------------------------------------------------------------------------------------------------------------- -->
    <div class="menu-container shippingContainer d-none">
      <!-- Slide-in Panel -->
      <div id="shippingSlideInPanel" class="slideInPanel px-4 overflow-auto">
        <div class="row d-flex justify-content-center">
          <div class="col-sm-12 col-md-12 col-md-12">
            <div class="text-center mt-4 d-flex justify-content-between">
              <span id="shippingPanelHeading" class="fw-bold fs-5"
                >Add Shipping Data</span
              >
              <div class="col my-auto d-flex justify-content-end">
                <i
                  class="fa-solid fa-circle-xmark my-auto panelClose"
                  id="closeShippingPanelBtn"
                ></i>
              </div>
            </div>

            <hr />

            <div class="form-group mt-4">
              <label for="shipping_carrier_code">Carrier Name</label>
              <select
                class="form-control input-dropdown"
                id="shipping_carrier_name"
                name="shipping_carrier_name"
              ></select>
            </div>

            <div class="form-group my-3">
              <label for="shipping_source">Source</label>
              <input
                id="shipping_source"
                class="form-control"
                placeholder="eg. xyz"
                type="text"
                name="shipping_source"
                rows="4"
              />
            </div>

            <div class="form-group my-3">
              <label for="shipping_destination">Destination</label>
              <input
                id="shipping_destination"
                class="form-control"
                placeholder="eg. xyz"
                type="text"
                name="shipping_destination"
                rows="4"
              />
            </div>

            <div class="form-group my-3">
              <label for="shipping_price">Shipping Price</label>
              <input
                id="shipping_price"
                class="form-control"
                title="Enter a valid Phone Number"
                placeholder="eg. 3128601946"
                type="number"
                name="shipping_price"
              />
            </div>

            <div class="form-group my-3">
              <label for="shipping_notes">Notes</label>
              <input
                id="shipping_notes"
                class="form-control"
                type="text"
                placeholder="eg. xyz"
                name="shipping_notes"
              />
            </div>

            <div class="d-flex justify-content-between mt-4 py-3 pb-4">
              <div id="submitShipping" class="col-lg-5 btn btn-danger">
                Save
              </div>
              <div
                id="resetShippingDataBtn"
                class="col-lg-5 btn btn-outline-danger"
              >
                Clear
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Table Content -->
      <div class="rounded-2 d-flex justify-content-center mt-4 py-4">
        <div class="border p-4 w-100">
          <!-- Add Button -->
          <div class="d-flex rounded-2 justify-content-end pb-4">
            <div
              id="openShippingPanelBtn"
              class="btn btn-outline-danger d-flex justify-content-around"
              style="width: 100px"
            >
              <i class="fa-solid fa-circle-plus my-auto"></i>
              <span style="margin-top: 4px" class="fw-bold my-auto">Add</span>
            </div>
          </div>

          <table id="shippingTable" class="table table-hover nowrap w-100">
            <thead>
              <tr>
                <th></th>
                <th></th>
                <th class="fw-bold"><span>Carrier Code</span></th>
                <th class="fw-bold"><span>Shipping Source</span></th>
                <th class="fw-bold"><span>Shipping Destination</span></th>
                <th class="fw-bold"><span>Price</span></th>
                <th class="fw-bold"><span>Notes</span></th>
                <th class="fw-bold"><span>Created At</span></th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
    <!-- Shipping Container Ends -->
  </body>

  <script type="text/javascript">
    jQuery(document).ready(function ($) {
      // Declarations

      App.checkAccess();

      new PerfectScrollbar(".slideInPanel", {
        suppressScrollX: true,
      }).update();

      toastr.options = {
        closeButton: false,
        debug: false,
        newestOnTop: true,
        progressBar: true,
        positionClass: "toast-top-right",
        preventDuplicates: false,
        onclick: null,
        showDuration: "300",
        hideDuration: "1000",
        timeOut: "5000",
        extendedTimeOut: "1000",
        showEasing: "swing",
        hideEasing: "linear",
        showMethod: "fadeIn",
        hideMethod: "fadeOut",
      };

      // Open Location on load (default)
      $(".menu-container").addClass("d-none");

      $(".divisionContainer").removeClass("d-none");
      $(".divisionContainer").addClass("d-block");

      loadDivisionTableData();

      // Menu navigation
      $(".topMenu-item").click(function () {
        $(".topMenu-item").removeClass("topMenu-item-active");
        $(".topSalesSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topSubMenu-item").removeClass("topSubMenu-item-active");

        $(this).addClass("topMenu-item-active");
        $(".productTopMenu").removeClass("topMenu-item-active");
        $(".salesTopMenu").removeClass("topMenu-item-active");
        $(".procurementTopMenu").removeClass("topMenu-item-active");
        $(".panelClose").click();

        resetAllInputs();
      });

      // Sub Menu navigation
      $(document).on("click", ".topSubMenu-item", function () {
        $(".topSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topSalesSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topProcurementSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topMenu-item").removeClass("topMenu-item-active");
        $(".salesTopMenu").removeClass("topMenu-item-active");
        $(".procurementTopMenu").removeClass("topMenu-item-active");

        $(".productTopMenu").addClass("topMenu-item-active");
        $(this).addClass("topSubMenu-item-active");

        $(".panelClose").click();

        resetAllInputs();
      });

      $(document).on("click", ".topSalesSubMenu-item", function () {
        $(".topSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topSalesSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topProcurementSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topMenu-item").removeClass("topMenu-item-active");
        $(".productTopMenu").removeClass("topMenu-item-active");
        $(".procurementTopMenu").removeClass("topMenu-item-active");

        $(".salesTopMenu").addClass("topMenu-item-active");
        $(this).addClass("topSubMenu-item-active");

        $(".panelClose").click();

        resetAllInputs();
      });

      $(document).on("click", ".topProcurementSubMenu-item", function () {
        $(".topSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topSalesSubMenu-item").removeClass("topSubMenu-item-active");
        $(".topMenu-item").removeClass("topMenu-item-active");
        $(".productTopMenu").removeClass("topMenu-item-active");
        $(".salesTopMenu").removeClass("topMenu-item-active");

        $(".procurementTopMenu").addClass("topMenu-item-active");
        $(this).addClass("topSubMenu-item-active");

        $(".panelClose").click();

        resetAllInputs();
      });

      tippy(".procurementTopMenu", {
        content: `<div class="d-flex justify-content-between p-3 fs-6">
        <div class="topProcurementSubMenu-item vendorMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-users mb-2"></i>Vendors</div>
        <div class="topProcurementSubMenu-item inventoryMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-layer-group mb-2"></i>Inventory</div>
        </div>`,
        placement: "bottom",
        arrow: true,
        trigger: "click",
        interactive: true,
        allowHTML: true,
        theme: "tomato",
        hideOnClick: true,
        animation: "shift-toward",
        onMount(instance) {
          if (!$(".procurementTopMenu").hasClass("topMenu-item-active")) {
            // Resetting Buttons
            $(".topProcurementSubMenu-item").removeClass(
              "topSubMenu-item-active"
            );
          }
        },
      });

      tippy(".productTopMenu", {
        content: `<div class="d-flex justify-content-between p-3 fs-6">
        <div class="topSubMenu-item speciesMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-fish-fins mb-2"></i>Species</div>
        <div class="topSubMenu-item gradeMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-ranking-star mb-2"></i>Grades</div>
        <div class="topSubMenu-item sizeMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-ruler-combined mb-2"></i>Sizes</div>
        <div class="topSubMenu-item productMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-shrimp mb-2"></i>Product</div>
        <div class="topSubMenu-item packagingMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-boxes-packing mb-2"></i>Packaging</div>
      </div>`,
        placement: "bottom",
        arrow: true,
        trigger: "click",
        interactive: true,
        allowHTML: true,
        theme: "tomato",
        hideOnClick: true,
        animation: "shift-toward",
        onMount(instance) {
          if (!$(".productTopMenu").hasClass("topMenu-item-active")) {
            // Resetting Buttons
            $(".topSubMenu-item").removeClass("topSubMenu-item-active");
          }
        },
      });

      tippy(".salesTopMenu", {
        content: `<div class="d-flex justify-content-between p-3 fs-6">
        <div class="topSalesSubMenu-item customerMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-users mb-2"></i>Customer</div>
        <div class="topSalesSubMenu-item priceListMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-barcode mb-2"></i>Price list</div>
        <div class="topSalesSubMenu-item carrierMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-dolly mb-2"></i>Carrier</div>
        <div class="topSalesSubMenu-item shippingMenu d-flex flex-column text-center mx-2"><i
            class="fa-solid fa-truck-arrow-right mb-2"></i>Shipping</div>
        </div>`,
        placement: "bottom",
        arrow: true,
        trigger: "click",
        interactive: true,
        allowHTML: true,
        theme: "tomato",
        hideOnClick: true,
        animation: "shift-toward",
        onMount(instance) {
          if (!$(".salesTopMenu").hasClass("topMenu-item-active")) {
            // Resetting Buttons
            $(".topSalesSubMenu-item").removeClass("topSubMenu-item-active");
          }
        },
      });

      // Global Functions
      // Function to format date as YYYY-MM-DD
      function formatDate(date, is_reverse) {
        var day = date.getDate();
        var month = date.getMonth() + 1;
        var year = date.getFullYear();

        // Ensure 2-digit formatting
        if (day < 10) {
          day = "0" + day;
        }
        if (month < 10) {
          month = "0" + month;
        }

        if (is_reverse) {
          return day + "-" + month + "-" + year;
        }

        return year + "-" + month + "-" + day;
      }

      function resetAllInputs() {
        $("input").val("");

        // Reset all date inputs
        var dateInputs = document.querySelectorAll('input[type="date"]');
        // looping all the date inputs
        dateInputs.forEach(function (input) {
          input.value = formatDate(new Date());
        });

        // Resetting textarea
        $("textarea").val("");

        // Resetting select field selected option
        $("#unitLocations").val(null).trigger("change");
        $("#unitType").val(null).trigger("change");
        $("#vendorLocations").val(null).trigger("change");
        $("#packagingType").val(null).trigger("change");
        $("#packagingMaterialComposition").val(null).trigger("change");
        $("#gradeSpeciesNames").val(null).trigger("change");
        $("#inventory_category").val(null).trigger("change");
        $("#inventory_supplier").val(null).trigger("change");
        $("#packagingSupplier").val(null).trigger("change");
        $("#productSpecies").val(null).trigger("change");
        $("#productSizes").val(null).trigger("change");
        $("#customer_country").val(null).trigger("change");
        $("#customer_type").val(null).trigger("change");
        $("#priceList_currency").val(null).trigger("change");
        $("#priceList_product").val(null).trigger("change");
        $("#carrier_country").val(null).trigger("change");
        $("#shipping_carrier_name").val(null).trigger("change");
      }

      function openSlidePanel(
        panelId,
        panelHeadingId,
        panelType,
        panelSubmitButton,
        panelBtnAttrName
      ) {
        // Opening Slide Panel
        $(`#${panelId}`).css("right", "0");

        // Changing panel Heading label
        $(`#${panelHeadingId}`).text(`Add ${panelType} Data`);

        // Changing panel save button label
        $(`#${panelSubmitButton}`).text("Save");

        // Changing panel save button attribute
        $(`#${panelSubmitButton}`).attr(panelBtnAttrName, null);

        if (panelType == "Product") {
          $("#product_category").attr("product_category_master_id", null);
        }
      }

      function closeSlidePanel(panelId) {
        // Opening Slide Panel
        $(`#${panelId}`).css("right", "-600px");

        // Resetting all the input fields' data
        resetAllInputs();

        // Destroying select2 all the dropdowns
        // $('select.select2-hidden-accessible').select2('destroy');
      }

      // ---------------------------------------------------------
      // ----------------------- Divisions -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openDivisionPanelBtn").click(function () {
        openSlidePanel(
          "divisionSlideInPanel",
          "divisionPanelHeading",
          "Division",
          "submitDivision",
          "division_master_id"
        );
      });

      // Close panel
      $("#closeDivisionPanelBtn").click(function () {
        closeSlidePanel("divisionSlideInPanel");
      });

      $(".divisionMenu").click(function () {
        $(".menu-container").addClass("d-none");

        $(".divisionContainer").removeClass("d-none");
        $(".divisionContainer").addClass("d-block");

        loadDivisionTableData();
      });

      $("#submitDivision").click(function () {
        saveDivision();
      });

      function loadDivisionTableData() {
        $("#divisionTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/division",
            error: function (xhr, error, code) {
              $("#divisionTable").DataTable().destroy();
              $("#divisionTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "division_name" },
            { data: "description" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editDivision" division_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this division"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delDivision" division_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this division"></i>'
                );
              },
            },
            {
              targets: [4],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editDivision", (e) => {
        // Changing panel input fields data
        $("#division_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#description").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );

        // Opening Slied Panel
        $("#openDivisionPanelBtn").click();

        // Changing panel heading
        $("#divisionPanelHeading").text("Edit Division Data");

        // Changing panel button label
        $("#submitDivision").text("Update");

        // Changing panel button attribute
        $("#submitDivision").attr(
          "division_master_id",
          $(e.target).attr("division_master_id")
        );
      });

      $(document).on("click", ".delDivision", (e) => {
        let division_master_id = $(e.target).attr("division_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Division?",
          content: "Are you sure, do you want to remove this division?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/division?division_master_id=" +
                    division_master_id,
                  method: "delete",
                })
                  .done(function (response) {
                    //loading data to table
                    loadDivisionTableData();

                    toastr.success("Division deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Division is safe now", "Info");
            },
          },
        });
      });

      function saveDivision() {
        const division_master_id =
          $("#submitDivision").attr("division_master_id");

        let url = "/api/v1/master/division";
        let method = "POST";
        let input_params = {
          division_name: $("#division_name").val(),
          description: $("#description").val(),
        };

        if (division_master_id) {
          url = "/api/v1/master/division";
          method = "PUT";
          input_params = {
            division_master_id,
            division_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeDivisionPanelBtn").click();

            loadDivisionTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetDivisionDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ----------------------- Locations -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openLocationPanelBtn").click(function () {
        openSlidePanel(
          "locationSlideInPanel",
          "locationPanelHeading",
          "Location",
          "submitLocation",
          "location_master_id"
        );
      });

      // Close panel
      $("#closeLocationPanelBtn").click(function () {
        closeSlidePanel("locationSlideInPanel");
      });

      $(".locationMenu").click(function () {
        $(".menu-container").addClass("d-none");

        $(".locationContainer").removeClass("d-none");
        $(".locationContainer").addClass("d-block");

        loadLocationTableData();
      });

      $("#submitLocation").click(function () {
        saveLocation();
      });

      function loadLocationTableData() {
        $("#locationTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/location",
            error: function (xhr, error, code) {
              $("#locationTable").DataTable().destroy();
              $("#locationTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "location_name" },
            { data: "description" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editLocation" location_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this location"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delLocation" location_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this location"></i>'
                );
              },
            },
            {
              targets: [4],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editLocation", (e) => {
        // Changing panel input fields data
        $("#location_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#description").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );

        // Opening Slied Panel
        $("#openLocationPanelBtn").click();

        // Changing panel heading
        $("#locationPanelHeading").text("Edit Location Data");

        // Changing panel button label
        $("#submitLocation").text("Update");

        // Changing panel button attribute
        $("#submitLocation").attr(
          "location_master_id",
          $(e.target).attr("location_master_id")
        );
      });

      $(document).on("click", ".delLocation", (e) => {
        let location_master_id = $(e.target).attr("location_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Location?",
          content: "Are you sure, do you want to remove this location?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/location?location_master_id=" +
                    location_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadLocationTableData();

                    toastr.success("Location deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Location is safe now", "Info");
            },
          },
        });
      });

      function saveLocation() {
        const location_master_id =
          $("#submitLocation").attr("location_master_id");

        let url = "/api/v1/master/location";
        let method = "POST";
        let input_params = {
          location_name: $("#location_name").val(),
          description: $("#description").val(),
        };

        if (location_master_id) {
          url = "/api/v1/master/location";
          method = "PUT";

          input_params = {
            location_master_id,
            location_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeLocationPanelBtn").click();

            loadLocationTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetLocationDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // -------------------------- Units ------------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openUnitPanelBtn").click(function () {
        openSlidePanel(
          "unitSlideInPanel",
          "unitPanelHeading",
          "Unit",
          "submitUnit",
          "unit_master_id"
        );

        // loadUnitLocations()

        // loadUnitType()
      });

      // Close panel
      $("#closeUnitPanelBtn").click(function () {
        closeSlidePanel("unitSlideInPanel");
      });

      $(".unitMenu").click(function () {
        $(".menu-container").addClass("d-none");

        $(".unitContainer").removeClass("d-none");
        $(".unitContainer").addClass("d-block");

        loadUnitDropdowns();
        loadUnitTableData();
      });

      $("#submitUnit").click(function () {
        saveUnit();
      });

      function loadUnitDropdowns() {
        // Pre loading dropdown data
        loadUnitLocations();
        loadUnitType();
      }

      function loadUnitTableData() {
        $("#unitTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/unit",
            error: function (xhr, error, code) {
              $("#unitTable").DataTable().destroy();
              $("#unitTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "unit_code" },
            { data: "unit_name" },
            { data: "unit_type" },
            { data: "LocationMaster.location_name" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editUnit" unit_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this unit"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delUnit" unit_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this unit"></i>'
                );
              },
            },
            {
              targets: [5],
              className: "text-left",
              render: function (data, type, row) {
                return `<span location_master_id='${row["LocationMaster"].id}'>${data}</span>`;
              },
            },
            {
              targets: [6],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editUnit", (e) => {
        // Changing panel input fields data
        $("#unit_name").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#unitType")
          .val($(e.target).closest("tr").children("td").eq(4).text())
          .trigger("change");
        $("#unitLocations")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(5)
              .find("span")
              .attr("location_master_id")
          )
          .trigger("change");

        // Opening Slied Panel
        $("#openUnitPanelBtn").click();

        // Changing panel heading
        $("#unitPanelHeading").text("Edit Unit Data");

        // Changing panel button label
        $("#submitUnit").text("Update");

        // Changing panel button attribute
        $("#submitUnit").attr(
          "unit_master_id",
          $(e.target).attr("unit_master_id")
        );
      });

      $(document).on("click", ".delUnit", (e) => {
        let unit_master_id = $(e.target).attr("unit_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Unit?",
          content: "Are you sure, do you want to remove this unit?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url: "/api/v1/master/unit?unit_master_id=" + unit_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadUnitTableData();

                    toastr.success("Unit deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Unit is safe now", "Info");
            },
          },
        });
      });

      function loadUnitType() {
        $("#unitType").select2({
          placeholder: "Choose a location",
          allowClear: true,
          data: [
            {
              id: "Peeling Center",
              text: "Peeling Center",
            },
            {
              id: "Collection Center",
              text: "Collection Center",
            },
            {
              id: "Cooking Center",
              text: "Cooking Center",
            },
            {
              id: "Distribution Center",
              text: "Distribution Center",
            },
            {
              id: "Cold Storage",
              text: "Cold Storage",
            },
          ],
        });

        // Clearing selected value
        $("#unitType").val(null).trigger("change");
      }

      function loadUnitLocations() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/location",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#unitLocations").select2({
              placeholder: "Choose a location",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.location_name,
                };
              }),
            });

            // Clearing selected value
            $("#unitLocations").val(null).trigger("change");
            // // Clearing selected value
            // $('#unitType').val(null).trigger('change');
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function saveUnit() {
        const unit_master_id = $("#submitUnit").attr("unit_master_id");

        let url = "/api/v1/master/unit";
        let method = "POST";
        let input_params = {
          unit_name: $("#unit_name").val(),
          unit_type: $("#unitType").val(),
          location_master_id: $("#unitLocations").val(),
        };

        if (unit_master_id) {
          url = "/api/v1/master/unit";
          method = "PUT";
          input_params = {
            unit_master_id,
            unit_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeUnitPanelBtn").click();

            loadUnitTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetUnitDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ----------------------- Production ----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openProductPanelBtn").click(function () {
        openSlidePanel(
          "productSlideInPanel",
          "productPanelHeading",
          "Product",
          "submitProduct",
          "product_master_id"
        );
        $("#productSizes")
          .prop("multiple", true)
          .attr("name", "sub_type[]")
          .select2({ allowClear: true, placeholder: "Select sizes" });
      });

      // Close panel
      $("#closeProductPanelBtn").click(function () {
        closeSlidePanel("productSlideInPanel");
      });

      $(document).on("click", ".productMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".productContainer").removeClass("d-none");
        $(".productContainer").addClass("d-block");

        loadProductDropdowns();
        loadProductTableData();
      });

      $("#submitProduct").click(function () {
        saveProduct();
      });

      function loadProductDropdowns() {
        loadProductSpecies();
        loadProductSizes();
      }

      function loadProductTableData() {
        $("#productTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/product",
            error: function (xhr, error, code) {
              $("#productTable").DataTable().destroy();
              $("#productTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "product_name" },
            { data: "ProductCategoryMaster.SpeciesMaster.species_name" },
            { data: "ProductCategoryMaster.product_category" },
            { data: "SizeMaster.size" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editProduct" product_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this product"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delProduct" product_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this product"></i>'
                );
              },
            },
            {
              targets: [3],
              className: "text-left",
              render: function (data, type, row) {
                return `<span species_master_id='${row["ProductCategoryMaster"]["SpeciesMaster"].id}'>${data}</span>`;
              },
            },
            {
              targets: [4],
              className: "text-left",
              render: function (data, type, row) {
                return `<span product_category_master_id='${row["ProductCategoryMaster"].id}'>${data}</span>`;
              },
            },
            {
              targets: [5],
              className: "text-left",
              render: function (data, type, row) {
                return row["SizeMaster"]?.id
                  ? `<span size_master_id='${row["SizeMaster"]?.id}'>${data}</span>`
                  : null;
              },
            },
            {
              targets: [6],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editProduct", (e) => {
        // Changing panel input fields data
        $("#productSpecies")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(3)
              .find("span")
              .attr("species_master_id")
          )
          .trigger("change");
        $("#product_category").val(
          $(e.target).closest("tr").children("td").eq(4).text()
        );
        $("#productSizes")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(5)
              .find("span")
              .attr("size_master_id")
          )
          .trigger("change");

        // Opening Slied Panel
        $("#openProductPanelBtn").click();

        $("#productSizes")
          .prop("multiple", false)
          .attr("name", "sub_type")
          .select2({ allowClear: true, placeholder: "Select a size" });

        $("#product_category").attr(
          "product_category_master_id",
          $(e.target)
            .closest("tr")
            .children("td")
            .eq(4)
            .find("span")
            .attr("product_category_master_id")
        );

        // Changing panel heading
        $("#productPanelHeading").text("Edit Product Data");

        // Changing panel button label
        $("#submitProduct").text("Update");

        // Changing panel button attribute
        $("#submitProduct").attr(
          "product_master_id",
          $(e.target).attr("product_master_id")
        );
      });

      $(document).on("click", ".delProduct", (e) => {
        let product_master_id = $(e.target).attr("product_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Product?",
          content: "Are you sure, do you want to remove this product?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/product?product_master_id=" +
                    product_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadProductTableData();

                    toastr.success("Product deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Product is safe now", "Info");
            },
          },
        });
      });

      function loadProductSpecies() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/species",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#productSpecies").select2({
              placeholder: "Choose a species",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.species_name,
                };
              }),
            });

            // Clearing selected value
            $("#productSpecies").val(null).trigger("change");
            // // Clearing selected value
            // $('#productType').val(null).trigger('change');
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function loadProductSizes() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/size",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#productSizes").select2({
              placeholder: "Choose sizes",
              allowClear: true,
              multiple: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.size,
                };
              }),
            });

            // Clearing selected value
            $("#productSizes").val(null).trigger("change");
            // // Clearing selected value
            // $('#productType').val(null).trigger('change');
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function saveProduct() {
        const product_master_id = $("#submitProduct").attr("product_master_id");

        let url = "/api/v1/master/product";
        let method = "POST";
        let input_params = {
          product_category: $("#product_category").val(),
          species_master_id: $("#productSpecies").val(),
          size_master_ids: $("#productSizes").val(),
          product_category_id: $("#product_category").attr(
            "product_category_master_id"
          ),
        };

        if (product_master_id) {
          url = "/api/v1/master/product";
          method = "PUT";
          input_params = {
            product_master_id,
            product_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeProductPanelBtn").click();

            loadProductTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetProductDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ------------------------- Vendors -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openVendorPanelBtn").click(function () {
        openSlidePanel(
          "vendorSlideInPanel",
          "vendorPanelHeading",
          "Vendor",
          "submitVendor",
          "vendor_master_id"
        );
      });

      // Close panel
      $("#closeVendorPanelBtn").click(function () {
        closeSlidePanel("vendorSlideInPanel");
      });

      $(document).on("click", ".vendorMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".vendorContainer").removeClass("d-none");
        $(".vendorContainer").addClass("d-block");

        loadVendorDropdowns();
        loadVendorsTableData();
      });

      $("#submitVendor").click(function () {
        saveVendor();
      });

      function loadVendorDropdowns() {
        loadVendorLocations();
      }

      function loadVendorsTableData() {
        $("#vendorTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/vendor",
            error: function (xhr, error, code) {
              $("#vendorTable").DataTable().destroy();
              $("#vendorTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "vendor_name" },
            { data: "LocationMaster.location_name" },
            { data: "representative" },
            { data: "phone" },
            { data: "email" },
            { data: "address" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editVendor" vendor_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this row"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delVendor" vendor_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this row"></i>'
                );
              },
            },
            {
              targets: [3],
              className: "text-left",
              render: function (data, type, row) {
                return `<span location_master_id='${row["LocationMaster"].id}'>${data}</span>`;
              },
            },
            {
              targets: [8],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editVendor", (e) => {
        // Changing panel input fields data
        $("#vendor_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#vendorLocations")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(3)
              .find("span")
              .attr("location_master_id")
          )
          .trigger("change");
        $("#representative").val(
          $(e.target).closest("tr").children("td").eq(4).text()
        );
        $("#vendor_phone").val(
          $(e.target).closest("tr").children("td").eq(5).text()
        );
        $("#vendor_email").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );
        $("#vendor_address").val(
          $(e.target).closest("tr").children("td").eq(7).text()
        );

        // Opening slide panel
        $("#openVendorPanelBtn").click();

        // Changing panel heading
        $("#vendorPanelHeading").text("Edit Vendor Data");

        // Changing panel button label
        $("#submitVendor").text("Update");

        // Changing panel button attribute
        $("#submitVendor").attr(
          "vendor_master_id",
          $(e.target).attr("vendor_master_id")
        );
      });

      $(document).on("click", ".delVendor", (e) => {
        let vendor_master_id = $(e.target).attr("vendor_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Vendor?",
          content: "Are you sure, do you want to remove this vendor?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/vendor?vendor_master_id=" +
                    vendor_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadVendorsTableData();

                    toastr.success("Vendor deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Vendor is safe now", "Info");
            },
          },
        });
      });

      function loadVendorLocations() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/location",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#vendorLocations").select2({
              placeholder: "Choose a location",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.location_name,
                };
              }),
            });

            // Clearing selected value
            $("#vendorLocations").val(null).trigger("change");
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function saveVendor() {
        const vendor_master_id = $("#submitVendor").attr("vendor_master_id");

        let url = "/api/v1/master/vendor";
        let method = "POST";
        let input_params = {
          vendor_name: $("#vendor_name").val(),
          representative: $("#representative").val(),
          address: $("#vendor_address").val(),
          phone: $("#vendor_phone").val(),
          email: $("#vendor_email").val(),
          location_master_id: $("#vendorLocations").val(),
        };

        if (vendor_master_id) {
          url = "/api/v1/master/vendor";
          method = "PUT";

          input_params = {
            vendor_master_id,
            vendor_master_data: {
              ...input_params,
            },
          };
        }

        // Load Roles
        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeVendorPanelBtn").click();

            loadVendorsTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetVendorDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ----------------------- Packaging -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openPackagingPanelBtn").click(function () {
        openSlidePanel(
          "packagingSlideInPanel",
          "packagingPanelHeading",
          "Packaging",
          "submitPackaging",
          "packaging_master_id"
        );
      });

      // Close panel
      $("#closePackagingPanelBtn").click(function () {
        closeSlidePanel("packagingSlideInPanel");
      });

      $(document).on("click", ".packagingMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".packagingContainer").removeClass("d-none");
        $(".packagingContainer").addClass("d-block");

        loadPackagingDropdowns();
        loadPackagingTableData();
      });

      $("#submitPackaging").click(function () {
        savePackaging();
      });

      function loadPackagingDropdowns() {
        loadPackagingType();
        loadPackagingMaterialComposition();
        loadPackagingVendor();
      }

      function loadPackagingTableData() {
        $("#packagingTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/packaging",
            error: function (xhr, error, code) {
              $("#packagingTable").DataTable().destroy();
              $("#packagingTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "packaging_code" },
            { data: "packaging_type" },
            { data: "packaging_length" },
            { data: "packaging_width" },
            { data: "packaging_height" },
            { data: "packaging_weight" },
            { data: "packaging_material_composition" },
            { data: "VendorMaster.vendor_name" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editPackaging" packaging_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this Packaging"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delPackaging" packaging_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this Packaging"></i>'
                );
              },
            },
            {
              targets: [9],
              className: "text-left",
              render: function (data, type, row) {
                return `<span packaging_master_id='${row["VendorMaster"].id}'>${data}</i>`;
              },
            },
            {
              targets: [10],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editPackaging", (e) => {
        // Changing panel input fields data
        $("#packagingType")
          .val($(e.target).closest("tr").children("td").eq(3).text())
          .trigger("change");
        $("#packagingLength").val(
          $(e.target).closest("tr").children("td").eq(4).text() || 0
        );
        $("#packagingWidth").val(
          $(e.target).closest("tr").children("td").eq(5).text() || 0
        );
        $("#packagingHeight").val(
          $(e.target).closest("tr").children("td").eq(6).text() || 0
        );
        $("#packagingWeight").val(
          $(e.target).closest("tr").children("td").eq(7).text() || 0
        );
        $("#packagingMaterialComposition")
          .val($(e.target).closest("tr").children("td").eq(8).text())
          .trigger("change");
        $("#packagingSupplier")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(9)
              .find("span")
              .attr("packaging_master_id")
          )
          .trigger("change");

        // Opening slide panel
        $("#openPackagingPanelBtn").click();

        // Changing panel heading
        $("#packagingPanelHeading").text("Edit Packaging Data");

        // Changing panel button label
        $("#submitPackaging").text("Update");

        // Changing panel button attribute
        $("#submitPackaging").attr(
          "packaging_master_id",
          $(e.target).attr("packaging_master_id")
        );
      });

      $(document).on("click", ".delPackaging", (e) => {
        let packaging_master_id = $(e.target).attr("packaging_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Packaging Detail?",
          content: "Are you sure, do you want to remove this Packaging?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/packaging?packaging_master_id=" +
                    packaging_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadPackagingTableData();

                    toastr.success(
                      "Packaging detail deleted successfully",
                      "Deleted"
                    );
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Packaging detail is safe now", "Info");
            },
          },
        });
      });

      function loadPackagingType() {
        $("#packagingType").select2({
          placeholder: "Choose a Packaging Type",
          allowClear: true,
          data: [
            {
              id: "Pouch",
              text: "Pouch",
            },
            {
              id: "Master Carton",
              text: "Master Carton",
            },
            {
              id: "Duplex Carton",
              text: "Duplex Carton",
            },
          ],
        });

        // Clearing selected value
        $("#packagingType").val(null).trigger("change");
      }

      function loadPackagingMaterialComposition() {
        $("#packagingMaterialComposition").select2({
          placeholder: "Choose a Packaging Material",
          allowClear: true,
          data: [
            {
              id: "Plastic",
              text: "Plastic",
            },
            {
              id: "Cardboard",
              text: "Cardboard",
            },
            {
              id: "Thermocol",
              text: "Thermocol",
            },
          ],
        });

        // Clearing selected value
        $("#packagingMaterialComposition").val(null).trigger("change");
      }

      function loadPackagingVendor() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/vendor",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#packagingSupplier").select2({
              placeholder: "Choose a Supplier",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.vendor_name,
                };
              }),
            });

            // Clearing selected value
            $("#packagingSupplier").val(null).trigger("change");
            // // Clearing selected value
            // $('#unitType').val(null).trigger('change');
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function savePackaging() {
        const packaging_master_id = $("#submitPackaging").attr(
          "packaging_master_id"
        );

        let url = "/api/v1/master/packaging";
        let method = "POST";
        let input_params = {
          packaging_type: $("#packagingType").val(),
          packaging_length: $("#packagingLength").val() || 0,
          packaging_width: $("#packagingWidth").val() || 0,
          packaging_height: $("#packagingHeight").val() || 0,
          packaging_weight: $("#packagingWeight").val() || 0,
          packaging_material_composition: $(
            "#packagingMaterialComposition"
          ).val(),
          vendor_master_id: $("#packagingSupplier").val(),
        };

        if (packaging_master_id) {
          url = "/api/v1/master/packaging";
          method = "PUT";
          input_params = {
            packaging_master_id,
            packaging_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closePackagingPanelBtn").click();

            loadPackagingTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetPackagingDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ----------------------- Inventory -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openInventoryPanelBtn").click(function () {
        openSlidePanel(
          "inventorySlideInPanel",
          "inventoryPanelHeading",
          "Inventory",
          "submitInventory",
          "inventory_master_id"
        );
      });

      // Close panel
      $("#closeInventoryPanelBtn").click(function () {
        $("#inventorySlideInPanel").css("right", "-600px");

        // $('select.select2-hidden-accessible').select2('destroy');
      });

      $(document).on("click", ".inventoryMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".inventoryContainer").removeClass("d-none");
        $(".inventoryContainer").addClass("d-block");

        loadInventoryDropdowns();
        loadInventoryTableData();
      });

      $("#submitInventory").click(function () {
        saveInventory();
      });

      function loadInventoryDropdowns() {
        loadInventoryVendors();
        loadInventoryCategory();
      }

      function loadInventoryTableData() {
        $("#inventoryTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/inventory",
            error: function (xhr, error, code) {
              $("#inventoryTable").DataTable().destroy();
              $("#inventoryTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "inventory_name" },
            { data: "inventory_uom" },
            { data: "inventory_category" },
            { data: "VendorMaster.vendor_name" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editInventory" inventory_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this inventory"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delInventory" inventory_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this inventory"></i>'
                );
              },
            },
            {
              targets: [5],
              className: "text-left",
              render: function (data, type, row) {
                return `<span vendor_master_id='${row["VendorMaster"].id}'">${data}</span>`;
              },
            },
            {
              targets: [6],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editInventory", (e) => {
        // Changing panel input fields data
        $("#inventory_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#inventory_uom").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#inventory_category")
          .val($(e.target).closest("tr").children("td").eq(4).text())
          .trigger("change");
        $("#inventory_supplier")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(5)
              .find("span")
              .attr("vendor_master_id")
          )
          .trigger("change");

        // Opening Slied Panel
        $("#openInventoryPanelBtn").click();

        // Changing panel heading
        $("#inventoryPanelHeading").text("Edit Inventory Data");

        // Changing panel button label
        $("#submitInventory").text("Update");

        // Changing panel button attribute
        $("#submitInventory").attr(
          "inventory_master_id",
          $(e.target).attr("inventory_master_id")
        );
      });

      $(document).on("click", ".delInventory", (e) => {
        let inventory_master_id = $(e.target).attr("inventory_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Inventory?",
          content: "Are you sure, do you want to remove this inventory?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/inventory?unit_master_id=" + unit_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadInventoryTableData();

                    toastr.success("Inventory deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Inventory is safe now", "Info");
            },
          },
        });
      });

      function loadInventoryCategory() {
        $("#inventory_category").select2({
          placeholder: "Choose a Category",
          allowClear: true,
          data: [
            {
              id: "Stationary",
              text: "Stationary",
            },
            {
              id: "Seafood Cleaning Chemicals",
              text: "Seafood Cleaning Chemicals",
            },
            {
              id: "Floor Cleaning Chemicals",
              text: "Floor Cleaning Chemicals",
            },
            {
              id: "Cleaning Tools",
              text: "Cleaning Tools",
            },
          ],
        });

        // Clearing selected value
        $("#inventory_category").val(null).trigger("change");
      }

      function loadInventoryVendors() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/vendor",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#inventory_supplier").select2({
              placeholder: "Choose a Vendor",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.vendor_name,
                };
              }),
            });

            // Clearing selected value
            $("#inventory_supplier").val(null).trigger("change");
            // // Clearing selected value
            // $('#unitType').val(null).trigger('change');
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function saveInventory() {
        const inventory_master_id = $("#submitInventory").attr(
          "inventory_master_id"
        );

        let url = "/api/v1/master/inventory";
        let method = "POST";
        let input_params = {
          inventory_name: $("#inventory_name").val(),
          inventory_uom: $("#inventory_uom").val(),
          inventory_category: $("#inventory_category").val(),
          vendor_master_id: $("#inventory_supplier").val(),
        };

        if (inventory_master_id) {
          url = "/api/v1/master/inventory";
          method = "PUT";
          input_params = {
            inventory_master_id,
            inventory_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeInventoryPanelBtn").click();

            loadInventoryTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetInventoryDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ------------------------ Species -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openSpeciesPanelBtn").click(function () {
        openSlidePanel(
          "speciesSlideInPanel",
          "speciesPanelHeading",
          "Species",
          "submitSpecies",
          "species_master_id"
        );
      });

      // Close panel
      $("#closeSpeciesPanelBtn").click(function () {
        closeSlidePanel("speciesSlideInPanel");
      });

      $(document).on("click", ".speciesMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".speciesContainer").removeClass("d-none");
        $(".speciesContainer").addClass("d-block");

        loadSpeciesDropdown();
        loadSpeciesTableData();
      });

      $("#submitSpecies").click(function () {
        saveSpecies();
      });

      function loadSpeciesDropdown() {
        loadSpeciesDivision();
      }

      function loadSpeciesTableData() {
        $("#speciesTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/species",
            error: function (xhr, error, code) {
              $("#speciesTable").DataTable().destroy();
              $("#speciesTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "species_code" },
            { data: "DivisionMaster.division_name" },
            { data: "species_name" },
            { data: "scientific_name" },
            { data: "description" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editSpecies" species_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this species"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delSpecies" species_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this species"></i>'
                );
              },
            },
            {
              targets: [3],
              className: "text-left",
              render: function (data, type, row) {
                return `<span division_master_id='${row["DivisionMaster"].id}'>${data}</span>`;
              },
            },
            {
              targets: [7],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editSpecies", (e) => {
        // Changing panel input fields data
        $("#species_code").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#speciesDivision")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(3)
              .find("span")
              .attr("division_master_id")
          )
          .trigger("change");
        $("#species_name").val(
          $(e.target).closest("tr").children("td").eq(4).text()
        );
        $("#scientific_name").val(
          $(e.target).closest("tr").children("td").eq(5).text()
        );
        $("#species_description").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );

        // Opening Slied Panel
        $("#openSpeciesPanelBtn").click();

        // Changing panel heading
        $("#speciesPanelHeading").text("Edit Species Data");

        // Changing panel button label
        $("#submitSpecies").text("Update");

        // Changing panel button attribute
        $("#submitSpecies").attr(
          "species_master_id",
          $(e.target).attr("species_master_id")
        );
      });

      $(document).on("click", ".delSpecies", (e) => {
        let species_master_id = $(e.target).attr("species_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Species?",
          content: "Are you sure, do you want to remove this species?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/species?species_master_id=" +
                    species_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadSpeciesTableData();

                    toastr.success("Species deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Species is safe now", "Info");
            },
          },
        });
      });

      function loadSpeciesDivision() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/division",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#speciesDivision").select2({
              placeholder: "Choose a division",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.division_name,
                };
              }),
            });

            // Clearing selected value
            $("#speciesDivision").val(null).trigger("change");
            // // Clearing selected value
            // $('#unitType').val(null).trigger('change');
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function saveSpecies() {
        const species_master_id = $("#submitSpecies").attr("species_master_id");

        let url = "/api/v1/master/species";
        let method = "POST";
        let input_params = {
          division_master_id: $("#speciesDivision").val(),
          species_name: $("#species_name").val(),
          species_code: $("#species_code").val(),
          scientific_name: $("#scientific_name").val(),
          description: $("#species_description").val(),
        };

        if (species_master_id) {
          url = "/api/v1/master/species";
          method = "PUT";

          input_params = {
            species_master_id,
            species_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeSpeciesPanelBtn").click();

            loadSpeciesTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetSpeciesDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // --------------------------- Grade -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openGradePanelBtn").click(function () {
        openSlidePanel(
          "gradeSlideInPanel",
          "gradePanelHeading",
          "Grade",
          "submitGrade",
          "grade_master_id"
        );
      });

      // Close panel
      $("#closeGradePanelBtn").click(function () {
        closeSlidePanel("gradeSlideInPanel");
      });

      $(document).on("click", ".gradeMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".gradeContainer").removeClass("d-none");
        $(".gradeContainer").addClass("d-block");

        loadGradeTableData();
      });

      $("#submitGrade").click(function () {
        saveGrade();
      });

      function loadGradeTableData() {
        $("#gradeTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/grade",
            error: function (xhr, error, code) {
              $("#gradeTable").DataTable().destroy();
              $("#gradeTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "grade_name" },
            { data: "description" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editGrade" grade_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this grade"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delGrade" grade_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this grade"></i>'
                );
              },
            },
            {
              targets: [4],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editGrade", (e) => {
        // Changing panel input fields data
        $("#grade_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#grade_description")
          .val($(e.target).closest("tr").children("td").eq(3).text())
          .trigger("change");

        // Opening Slied Panel
        $("#openGradePanelBtn").click();

        // Changing panel heading
        $("#gradePanelHeading").text("Edit Grade Data");

        // Changing panel button label
        $("#submitGrade").text("Update");

        // Changing panel button attribute
        $("#submitGrade").attr(
          "grade_master_id",
          $(e.target).attr("grade_master_id")
        );
      });

      $(document).on("click", ".delGrade", (e) => {
        let grade_master_id = $(e.target).attr("grade_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Grade?",
          content: "Are you sure, do you want to remove this grade?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/grade?grade_master_id=" + grade_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadGradeTableData();

                    toastr.success("Grade deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Grade is safe now", "Info");
            },
          },
        });
      });

      function saveGrade() {
        const grade_master_id = $("#submitGrade").attr("grade_master_id");

        let url = "/api/v1/master/grade";
        let method = "POST";
        let input_params = {
          grade_name: $("#grade_name").val(),
          description: $("#grade_description").val(),
        };

        if (grade_master_id) {
          url = "/api/v1/master/grade";
          method = "PUT";
          input_params = {
            grade_master_id,
            grade_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeGradePanelBtn").click();

            loadGradeTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetGradeDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ---------------------------- Size -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openSizePanelBtn").click(function () {
        openSlidePanel(
          "sizeSlideInPanel",
          "sizePanelHeading",
          "Size",
          "submitSize",
          "size_master_id"
        );
      });

      // Close panel
      $("#closeSizePanelBtn").click(function () {
        closeSlidePanel("sizeSlideInPanel");
      });

      $(document).on("click", ".sizeMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".sizeContainer").removeClass("d-none");
        $(".sizeContainer").addClass("d-block");

        loadSizeTableData();
      });

      $("#submitSize").click(function () {
        saveSize();
      });

      function loadSizeTableData() {
        $("#sizeTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/size",
            error: function (xhr, error, code) {
              $("#sizeTable").DataTable().destroy();
              $("#sizeTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "size" },
            { data: "description" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editSize" size_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this size"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delSize" size_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this size"></i>'
                );
              },
            },
            {
              targets: [4],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editSize", (e) => {
        // Changing panel input fields data
        $("#size").val($(e.target).closest("tr").children("td").eq(2).text());
        $("#size_description")
          .val($(e.target).closest("tr").children("td").eq(3).text())
          .trigger("change");

        // Opening Slied Panel
        $("#openSizePanelBtn").click();

        // Changing panel heading
        $("#sizePanelHeading").text("Edit Size Data");

        // Changing panel button label
        $("#submitSize").text("Update");

        // Changing panel button attribute
        $("#submitSize").attr(
          "size_master_id",
          $(e.target).attr("size_master_id")
        );
      });

      $(document).on("click", ".delSize", (e) => {
        let size_master_id = $(e.target).attr("size_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Size?",
          content: "Are you sure, do you want to remove this size?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url: "/api/v1/master/size?size_master_id=" + size_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadSizeTableData();

                    toastr.success("Size deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Size is safe now", "Info");
            },
          },
        });
      });

      function saveSize() {
        const size_master_id = $("#submitSize").attr("size_master_id");

        let url = "/api/v1/master/size";
        let method = "POST";
        let input_params = {
          size: $("#size").val(),
          description: $("#size_description").val(),
        };

        if (size_master_id) {
          url = "/api/v1/master/size";
          method = "PUT";
          input_params = {
            size_master_id,
            size_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeSizePanelBtn").click();

            loadSizeTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetSizeDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ------------------------- Vehicle -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openVehiclePanelBtn").click(function () {
        openSlidePanel(
          "vehicleSlideInPanel",
          "vehiclePanelHeading",
          "Vehicle",
          "submitVehicle",
          "vehicle_master_id"
        );
      });

      // Close panel
      $("#closeVehiclePanelBtn").click(function () {
        closeSlidePanel("vehicleSlideInPanel");
      });

      $(".vehicleMenu").click(function () {
        $(".menu-container").addClass("d-none");

        $(".vehicleContainer").removeClass("d-none");
        $(".vehicleContainer").addClass("d-block");

        loadVehicleTableData();
      });

      $("#submitVehicle").click(function () {
        saveVehicle();
      });

      function loadVehicleTableData() {
        $("#vehicleTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/vehicle",
            error: function (xhr, error, code) {
              $("#vehicleTable").DataTable().destroy();
              $("#vehicleTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "vehicle_number" },
            { data: "vehicle_brand" },
            { data: "model_number" },
            { data: "insurance_provider" },
            { data: "insurance_number" },
            { data: "insurance_expiring_on" },
            { data: "last_fc_date" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editVehicle" vehicle_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this vehicle"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delVehicle" vehicle_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this vehicle"></i>'
                );
              },
            },
            {
              targets: [7],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["insurance_expiring_on"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];

                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return day + "-" + month + "-" + date.getFullYear();
              },
            },
            {
              targets: [8],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["last_fc_date"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];

                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return day + "-" + month + "-" + date.getFullYear();
              },
            },
            {
              targets: [9],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editVehicle", (e) => {
        // Changing panel input fields data
        $("#vehicle_number").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#vehicle_brand").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#model_number").val(
          $(e.target).closest("tr").children("td").eq(4).text()
        );
        $("#insurance_provider").val(
          $(e.target).closest("tr").children("td").eq(5).text()
        );
        $("#insurance_number").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );
        $("#insurance_expiring_on").val(
          formatDate(
            new Date($(e.target).closest("tr").children("td").eq(7).text())
          )
        );
        $("#last_fc_date").val(
          formatDate(
            new Date($(e.target).closest("tr").children("td").eq(8).text())
          )
        );

        // Opening slide panel
        $("#openVehiclePanelBtn").click();

        // Changing panel heading
        $("#vehiclePanelHeading").text("Edit Vehicle Data");

        // Changing panel button label
        $("#submitVehicle").text("Update");

        // Changing panel button attribute
        $("#submitVehicle").attr(
          "vehicle_master_id",
          $(e.target).attr("vehicle_master_id")
        );
      });

      $(document).on("click", ".delVehicle", (e) => {
        let vehicle_master_id = $(e.target).attr("vehicle_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Vehicle?",
          content: "Are you sure, do you want to remove this vehicle?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/vehicle?vehicle_master_id=" +
                    vehicle_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadVehicleTableData();

                    toastr.success("Vehicle deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Vehicle is safe now", "Info");
            },
          },
        });
      });

      function saveVehicle() {
        const vehicle_master_id = $("#submitVehicle").attr("vehicle_master_id");

        let url = "/api/v1/master/vehicle";
        let method = "POST";
        let input_params = {
          vehicle_number: $("#vehicle_number").val(),
          vehicle_brand: $("#vehicle_brand").val(),
          model_number: $("#model_number").val(),
          insurance_provider: $("#insurance_provider").val(),
          insurance_number: $("#insurance_number").val(),
          insurance_expiring_on: $("#insurance_expiring_on").val(),
          last_fc_date: $("#last_fc_date").val(),
        };

        if (vehicle_master_id) {
          url = "/api/v1/master/vehicle";
          method = "PUT";
          input_params = {
            vehicle_master_id,
            vehicle_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeVehiclePanelBtn").click();

            loadVehicleTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetVehicleDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // -------------------------- Driver -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openDriverPanelBtn").click(function () {
        openSlidePanel(
          "driverSlideInPanel",
          "driverPanelHeading",
          "Driver",
          "submitDriver",
          "driver_master_id"
        );
      });

      // Close panel
      $("#closeDriverPanelBtn").click(function () {
        closeSlidePanel("driverSlideInPanel");
      });

      $(".driverMenu").click(function () {
        $(".menu-container").addClass("d-none");

        $(".driverContainer").removeClass("d-none");
        $(".driverContainer").addClass("d-block");

        loadDriverTableData();
      });

      $("#submitDriver").click(function () {
        saveDriver();
      });

      function loadDriverTableData() {
        $("#driverTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/driver",
            error: function (xhr, error, code) {
              $("#driverTable").DataTable().destroy();
              $("#driverTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "driver_name" },
            { data: "license_number" },
            { data: "phone" },
            { data: "emergency_contact" },
            { data: "aadhar_number" },
            { data: "blood_group" },
            { data: "health_history" },
            { data: "address" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editDriver" driver_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this driver"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delDriver" driver_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this driver"></i>'
                );
              },
            },
            {
              targets: [10],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editDriver", (e) => {
        // Changing panel input fields data
        $("#driver_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#license_number").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#driver_phone").val(
          $(e.target).closest("tr").children("td").eq(4).text()
        );
        $("#emergency_contact").val(
          $(e.target).closest("tr").children("td").eq(5).text()
        );
        $("#aadhar_number").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );
        $("#blood_group").val(
          $(e.target).closest("tr").children("td").eq(7).text()
        );
        $("#health_history").val(
          $(e.target).closest("tr").children("td").eq(8).text()
        );
        $("#driver_address").val(
          $(e.target).closest("tr").children("td").eq(9).text()
        );

        // Opening slide panel
        $("#openDriverPanelBtn").click();

        // Changing panel heading
        $("#driverPanelHeading").text("Edit Driver Data");

        // Changing panel button label
        $("#submitDriver").text("Update");

        // Changing panel button attribute
        $("#submitDriver").attr(
          "driver_master_id",
          $(e.target).attr("driver_master_id")
        );
      });

      $(document).on("click", ".delDriver", (e) => {
        let driver_master_id = $(e.target).attr("driver_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Driver?",
          content: "Are you sure, do you want to remove this driver?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/driver?driver_master_id=" +
                    driver_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadDriverTableData();

                    toastr.success("Driver deleted successfully", "Deleted");
                  })
                  .fail(function (xhr) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Driver is safe now", "Info");
            },
          },
        });
      });

      function saveDriver() {
        const driver_master_id = $("#submitDriver").attr("driver_master_id");

        let url = "/api/v1/master/driver";
        let method = "POST";
        let input_params = {
          driver_name: $("#driver_name").val(),
          license_number: $("#license_number").val(),
          aadhar_number: $("#aadhar_number").val(),
          address: $("#driver_address").val(),
          phone: $("#driver_phone").val(),
          emergency_contact: $("#emergency_contact").val(),
          blood_group: $("#blood_group").val(),
          health_history: $("#health_history").val(),
        };

        if (driver_master_id) {
          url = "/api/v1/master/driver";
          method = "PUT";
          input_params = {
            driver_master_id,
            driver_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeDriverPanelBtn").click();

            loadDriverTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetDriverDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ------------------------- Customer ----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openCustomerPanelBtn").click(function () {
        openSlidePanel(
          "customerSlideInPanel",
          "customerPanelHeading",
          "Customer",
          "submitCustomer",
          "customer_master_id"
        );
      });

      // Close panel
      $("#closeCustomerPanelBtn").click(function () {
        closeSlidePanel("customerSlideInPanel");
      });

      $(document).on("click", ".customerMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".customerContainer").removeClass("d-none");
        $(".customerContainer").addClass("d-block");

        loadCustomerDropdowns();
        loadCustomerTableData();
      });

      $("#submitCustomer").click(function () {
        saveCustomer();
      });

      function loadCustomerDropdowns() {
        // Pre loading dropdown data
        loadCustomerCountry();
        loadCustomerType();
      }

      function loadCustomerTableData() {
        $("#customerTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/customer",
            error: function (xhr, error, code) {
              $("#customerTable").DataTable().destroy();
              $("#customerTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "customer_name" },
            { data: "customer_address" },
            { data: "customer_country" },
            { data: "customer_phone" },
            { data: "customer_email" },
            { data: "customer_paymentterms" },
            { data: "customer_credit" },
            { data: "customer_type" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editCustomer" customer_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this row"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delCustomer" customer_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this row"></i>'
                );
              },
            },
            {
              targets: [10],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      let view_customer_phone = "";
      $(document).on("click", ".editCustomer", (e) => {
        // Changing panel input fields data
        view_customer_phone = $(e.target)
          .closest("tr")
          .children("td")
          .eq(5)
          .text();

        $("#customer_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#customer_address").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#customer_country")
          .val($(e.target).closest("tr").children("td").eq(4).text())
          .trigger("change");

        $("#customer_email").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );
        $("#customer_paymentterms").val(
          $(e.target).closest("tr").children("td").eq(7).text()
        );
        $("#customer_credit").val(
          $(e.target).closest("tr").children("td").eq(8).text()
        );
        $("#customer_type")
          .val($(e.target).closest("tr").children("td").eq(9).text())
          .trigger("change");

        // Opening slide panel
        $("#openCustomerPanelBtn").click();

        // Changing panel heading
        $("#CustomerPanelHeading").text("Edit Customer Data");

        // Changing panel button label
        $("#submitCustomer").text("Update");

        // Changing panel button attribute
        $("#submitCustomer").attr(
          "customer_master_id",
          $(e.target).attr("customer_master_id")
        );
      });

      $(document).on("click", ".delCustomer", (e) => {
        let customer_master_id = $(e.target).attr("customer_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Customer?",
          content: "Are you sure, do you want to remove this customer?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/customer?vendor_master_id=" +
                    vendor_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadCustomerTableData();

                    toastr.success("Customer deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info(" is safe now", "Info");
            },
          },
        });
      });

      function loadCustomerCountry() {
        $.ajax({
          url: "https://restcountries.com/v3.1/all?fields=cca3,name,idd",
          dataType: "json",

          success: function (data) {
            $("#customer_country").select2({
              placeholder: "Choose a country",
              allowClear: true,
              data: $.map(data, function (item) {
                let suffixes = item?.idd?.suffixes;

                if (suffixes.length > 1) {
                  suffixes = "";
                } else {
                  suffixes = item?.idd?.suffixes[0];
                }
                return {
                  id: item.name.common,
                  text: item.name.common,
                  isd_code: `${item?.idd?.root}${suffixes}`,
                };
              }),
            });

            $("#customer_country").val(null).trigger("change");
          },
          error: function (jqXHR, textStatus, errorThrown) {
            console.error("Error loading country list:", errorThrown);
          },
        });
      }

      $(document).on("change", "#customer_country", (e) => {
        if (!$(e.target).val()) {
          return;
        }

        let current_code = $(e.target).select2("data")[0]?.isd_code;
        let current_customer_phone =
          view_customer_phone || $("#customer_phone").val();
        let customer_phone_splited = current_customer_phone?.split(" ");

        if (customer_phone_splited?.length > 1) {
          $("#customer_phone").val(
            `${current_code} ${customer_phone_splited[1]}`
          );
          return;
        }

        $("#customer_phone").val(current_code + " ");
      });

      function loadCustomerType() {
        $("#customer_type").select2({
          placeholder: "Choose a customer type",
          allowClear: true,
          data: [
            {
              id: "Retail",
              text: "Retail",
            },
            {
              id: "Wholesale",
              text: "Wholesale",
            },
          ],
        });

        // Clearing selected value
        $("#customer_type").val(null).trigger("change");
      }

      function saveCustomer() {
        const customer_master_id =
          $("#submitCustomer").attr("customer_master_id");

        let url = "/api/v1/master/customer";
        let method = "POST";
        let input_params = {
          customer_name: $("#customer_name").val(),
          customer_address: $("#customer_address").val(),
          customer_country: $("#customer_country").val(),
          customer_phone: $("#customer_phone").val(),
          customer_email: $("#customer_email").val(),
          customer_paymentterms: $("#customer_paymentterms").val(),
          customer_credit: $("#customer_credit").val(),
          customer_type: $("#customer_type").val(),
        };

        if (customer_master_id) {
          url = "/api/v1/master/customer";
          method = "PUT";
          input_params = {
            customer_master_id,
            customer_master_data: {
              ...input_params,
            },
          };
        }

        // Load Roles
        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeCustomerPanelBtn").click();

            loadCustomerTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetCustomerDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ----------------------- Price List ----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openPriceListPanelBtn").click(function () {
        openSlidePanel(
          "priceListSlideInPanel",
          "priceListPanelHeading",
          "PriceList",
          "submitPriceList",
          "price_list_master_id"
        );
      });

      // Close panel
      $("#closePriceListPanelBtn").click(function () {
        closeSlidePanel("priceListSlideInPanel");

        $("#submitPriceList").attr("price_list_master_id", null);

        $("#submitPriceList").attr("price_list_product_master_id", null);
      });

      $(document).on("click", ".priceListMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".priceListContainer").removeClass("d-none");
        $(".priceListContainer").addClass("d-block");

        loadPriceListDropdowns();
        loadPriceListTableData();
      });

      $("#submitPriceList").click(function () {
        savePriceList();
      });

      function loadPriceListDropdowns() {
        // Pre loading dropdown data
        loadPriceListProduct();
        loadPriceListCurrency();
      }

      let priceListTable;
      function loadPriceListTableData() {
        priceListTable = $("#priceListTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/pricelist",
            error: function (xhr, error, code) {
              $("#priceListTable").DataTable().destroy();
              $("#priceListTable").DataTable({
                scrollX: true,
                ordering: false,
              });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: "price_list_name" },
            { data: "currency" },
            { data: null },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return `<i class="fa fa-eye view viewPriceList" price_list_master_id='${
                  row["id"]
                }' price_list_product_data='${JSON.stringify(
                  row["PriceListProductMasters"]
                )}' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to view price list"></i>`;
              },
            },
            {
              targets: [3],
              className: "text-left",
              render: function (data, type, row) {
                return row["PriceListProductMasters"]?.length;
              },
            },
          ],
        });
      }

      $(document).on("click", "td .viewPriceList", function (e) {
        let tr = e.target.closest("tr");
        let row = priceListTable.row(tr);

        if (row.child.isShown()) {
          // This row is already open - close it
          row.child.hide();
          // $(e.target).text("Show");
        } else {
          // Open this row
          row
            .child(
              formatPriceListChildTable(
                $(e.target).attr("price_list_product_data")
              )
            )
            .show();
          // $(e.target).text("Hide");
        }
      });

      // Formatting function for row details - modify as you need
      function formatPriceListChildTable(product_data) {
        // `d` is the original data object for the row
        let html_content = "";

        JSON.parse(product_data)?.forEach((row) => {
          html_content += `<tr>
                            <td><i class="fa-solid fa-pen-to-square edit editPriceList" price_list_product_master_id='${
                              row["id"]
                            }' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit price list"></i></td>
                            <td><i class="fa fa-trash del delPriceList" price_list_product_master_id='${
                              row["id"]
                            }' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete price list"></i></td>
                            <td product_master_id='${row?.ProductMaster?.id}'>${
                              row?.ProductMaster?.product_name
                            }</td>
                            <td>${row?.price_value}</td>
                            <td>${formatDate(
                              new Date(row?.created_at),
                              true
                            )}</td>
                          </tr>`;
        });

        return `<table id="childPriceList" class="table border rounded nowrap w-50">
                        <tbody>
                          <tr>
                            <th></th>
                            <th></th>
                            <th class="fw-bold">Product Name</th>
                            <th class="fw-bold">Price</th>
                            <th class="fw-bold">Created At</th>
                          </tr>
                          ${html_content}
                        </tbody>
                      </table>`;
      }

      $(document).on("click", ".editPriceList", (e) => {
        // Changing panel input fields data
        let currentRowPosition =
          $(e.target).parents("tr").parents("tr").index() - 1;

        $("#priceList_product")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(2)
              .attr("product_master_id")
          )
          .trigger("change");

        $("#priceList_value").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );

        $("#priceList_name").val(
          $(e.target)
            .parents("#priceListTable")
            .find("tbody")
            .find("tr")
            .eq(currentRowPosition)
            .find("td")
            .eq(1)
            .text()
        );

        $("#priceList_currency")
          .val(
            $(e.target)
              .parents("#priceListTable")
              .find("tbody")
              .find("tr")
              .eq(currentRowPosition)
              .find("td")
              .eq(2)
              .text()
          )
          .trigger("change");

        // Opening slide panel
        $("#openPriceListPanelBtn").click();

        // Changing panel heading
        $("#PriceListPanelHeading").text("Edit PriceList Data");

        // Changing panel button label
        $("#submitPriceList").text("Update");

        // Changing panel button attribute
        $("#submitPriceList").attr(
          "price_list_master_id",
          $(e.target)
            .parents("#priceListTable")
            .find("tbody")
            .find("tr")
            .eq(currentRowPosition)
            .find("td")
            .eq(0)
            .find("i")
            .attr("price_list_master_id")
        );

        $("#submitPriceList").attr(
          "price_list_product_master_id",
          $(e.target).attr("price_list_product_master_id")
        );
      });

      $(document).on("click", ".delPriceList", (e) => {
        let price_list_product_master_id = $(e.target).attr(
          "price_list_product_master_id"
        );
        $.confirm({
          title: "Delete PriceList?",
          content: "Are you sure, do you want to remove this priceList?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url: `/api/v1/master/pricelist/product?price_list_product_master_id=${price_list_product_master_id}`,
                  method: "delete",
                })
                  .done(function (response) {
                    //loading data to table
                    loadPriceListTableData();

                    toastr.success("PriceList deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info(" is safe now", "Info");
            },
          },
        });
      });

      function loadPriceListProduct() {
        $.ajax({
          url: "/api/v1/master/product",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#priceList_product").select2({
              placeholder: "Choose a product",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.product_name,
                };
              }),
            });

            // Clearing selected value
            $("#priceList_product").val(null).trigger("change");
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function loadPriceListCurrency() {
        $.ajax({
          url: "https://restcountries.com/v3.1/all?fields=currencies",
          dataType: "json",

          success: function (data) {
            $("#priceList_currency").select2({
              placeholder: "Choose a currency",
              allowClear: true,
              data: $.map(data, function (item) {
                let currency_name = Object.keys(item.currencies)[0];
                return {
                  id: currency_name,
                  text:
                    currency_name +
                    " (" +
                    item?.currencies[currency_name]?.symbol +
                    ")",
                };
              }),
            });

            // Clearing selected value
            $("#priceList_currency").val(null).trigger("change");
          },
          error: function (jqXHR, textStatus, errorThrown) {
            console.error("Error loading country list:", errorThrown);
          },
        });
      }

      function savePriceList() {
        const price_list_master_id = $("#submitPriceList").attr(
          "price_list_master_id"
        );

        const price_list_product_master_id = $("#submitPriceList").attr(
          "price_list_product_master_id"
        );

        let url = "/api/v1/master/pricelist";
        let method = "POST";
        let input_params = {
          price_list_name: $("#priceList_name").val(),
          currency: $("#priceList_currency").val(),
          PriceListProductMasters: [
            {
              id: price_list_product_master_id,
              price_list_master_id,
              price_value: $("#priceList_value").val(),
              product_master_id: $("#priceList_product").val(),
            },
          ],
        };

        if (price_list_master_id) {
          url = "/api/v1/master/pricelist";
          method = "PUT";
          input_params = {
            price_list_master_id,
            price_list_master_data: {
              ...input_params,
            },
          };
        }

        // Load Roles
        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closePriceListPanelBtn").click();

            loadPriceListTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetPriceListDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ------------------------- Carrier -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openCarrierPanelBtn").click(function () {
        openSlidePanel(
          "carrierSlideInPanel",
          "carrierPanelHeading",
          "Carrier",
          "submitCarrier",
          "carrier_master_id"
        );
      });

      // Close panel
      $("#closeCarrierPanelBtn").click(function () {
        closeSlidePanel("carrierSlideInPanel");
      });

      $(document).on("click", ".carrierMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".carrierContainer").removeClass("d-none");
        $(".carrierContainer").addClass("d-block");

        loadCarrierDropdowns();
        loadCarrierTableData();
      });

      $("#submitCarrier").click(function () {
        saveCarrier();
      });

      function loadCarrierDropdowns() {
        // Pre loading dropdown data
        loadCarrierCountry();
      }

      function loadCarrierTableData() {
        $("#carrierTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/carrier",
            error: function (xhr, error, code) {
              $("#carrierTable").DataTable().destroy();
              $("#carrierTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "carrier_name" },
            { data: "carrier_address" },
            { data: "carrier_country" },
            { data: "carrier_phone" },
            { data: "carrier_email" },
            { data: "carrier_paymentterms" },
            { data: "carrier_credit" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editCarrier" carrier_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this row"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delCarrier" carrier_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this row"></i>'
                );
              },
            },
            {
              targets: [9],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      let view_carrier_phone = "";
      $(document).on("click", ".editCarrier", (e) => {
        // Changing panel input fields data
        view_carrier_phone = $(e.target)
          .closest("tr")
          .children("td")
          .eq(5)
          .text();

        $("#carrier_name").val(
          $(e.target).closest("tr").children("td").eq(2).text()
        );
        $("#carrier_address").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#carrier_country")
          .val($(e.target).closest("tr").children("td").eq(4).text())
          .trigger("change");

        $("#carrier_email").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );
        $("#carrier_paymentterms").val(
          $(e.target).closest("tr").children("td").eq(7).text()
        );
        $("#carrier_credit").val(
          $(e.target).closest("tr").children("td").eq(8).text()
        );

        // Opening slide panel
        $("#openCarrierPanelBtn").click();

        // Changing panel heading
        $("#CarrierPanelHeading").text("Edit Carrier Data");

        // Changing panel button label
        $("#submitCarrier").text("Update");

        // Changing panel button attribute
        $("#submitCarrier").attr(
          "carrier_master_id",
          $(e.target).attr("carrier_master_id")
        );
      });

      $(document).on("click", ".delCarrier", (e) => {
        let carrier_master_id = $(e.target).attr("carrier_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Carrier?",
          content: "Are you sure, do you want to remove this carrier?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/carrier?carrier_master_id=" +
                    carrier_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadCarrierTableData();

                    toastr.success("Carrier deleted successfully", "Deleted");
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info(" is safe now", "Info");
            },
          },
        });
      });

      function loadCarrierCountry() {
        $.ajax({
          url: "https://restcountries.com/v3.1/all?fields=cca3,name,idd",
          dataType: "json",

          success: function (data) {
            $("#carrier_country").select2({
              placeholder: "Choose a country",
              allowClear: true,
              data: $.map(data, function (item) {
                let suffixes = item?.idd?.suffixes;

                if (suffixes.length > 1) {
                  suffixes = "";
                } else {
                  suffixes = item?.idd?.suffixes[0];
                }
                return {
                  id: item.name.common,
                  text: item.name.common,
                  isd_code: `${item?.idd?.root}${suffixes}`,
                };
              }),
            });

            $("#carrier_country").val(null).trigger("change");
          },
          error: function (jqXHR, textStatus, errorThrown) {
            console.error("Error loading country list:", errorThrown);
          },
        });
      }

      $(document).on("change", "#carrier_country", (e) => {
        if (!$(e.target).val()) {
          return;
        }

        let current_code = $(e.target).select2("data")[0]?.isd_code;
        let current_carrier_phone =
          view_carrier_phone || $("#carrier_phone").val();
        let carrier_phone_splited = current_carrier_phone?.split(" ");

        if (carrier_phone_splited?.length > 1) {
          $("#carrier_phone").val(
            `${current_code} ${carrier_phone_splited[1]}`
          );
          return;
        }

        $("#carrier_phone").val(current_code + " ");
      });

      function saveCarrier() {
        const carrier_master_id = $("#submitCarrier").attr("carrier_master_id");

        let url = "/api/v1/master/carrier";
        let method = "POST";
        let input_params = {
          carrier_name: $("#carrier_name").val(),
          carrier_address: $("#carrier_address").val(),
          carrier_country: $("#carrier_country").val(),
          carrier_phone: $("#carrier_phone").val(),
          carrier_email: $("#carrier_email").val(),
          carrier_paymentterms: $("#carrier_paymentterms").val(),
          carrier_credit: $("#carrier_credit").val(),
        };

        if (carrier_master_id) {
          url = "/api/v1/master/carrier";
          method = "PUT";
          input_params = {
            carrier_master_id,
            carrier_master_data: {
              ...input_params,
            },
          };
        }

        // Load Roles
        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeCarrierPanelBtn").click();

            loadCarrierTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetCarrierDataBtn").on("click", resetAllInputs);

      // ---------------------------------------------------------
      // ------------------------ Shipping -----------------------
      // ---------------------------------------------------------

      // Open panel
      $("#openShippingPanelBtn").click(function () {
        openSlidePanel(
          "shippingSlideInPanel",
          "shippingPanelHeading",
          "Shipping",
          "submitShipping",
          "shipping_master_id"
        );
      });

      // Close panel
      $("#closeShippingPanelBtn").click(function () {
        closeSlidePanel("shippingSlideInPanel");
      });

      $(document).on("click", ".shippingMenu", function () {
        $(".menu-container").addClass("d-none");

        $(".shippingContainer").removeClass("d-none");
        $(".shippingContainer").addClass("d-block");

        loadShippingDropdown();
        loadShippingTableData();
      });

      $("#submitShipping").click(function () {
        saveShipping();
      });

      function loadShippingDropdown() {
        loadShippingCarrier();
      }

      function loadShippingTableData() {
        $("#shippingTable").DataTable({
          // searching: true,
          destroy: true,
          responsive: false,
          processing: true,
          serverSide: true,
          scrollX: true,
          scrollCollapse: true,
          scrollY: "40vh",
          ordering: false,
          ajax: {
            type: "GET",
            url: "/api/v1/master/shipping",
            error: function (xhr, error, code) {
              $("#shippingTable").DataTable().destroy();
              $("#shippingTable").DataTable({ scrollX: true, ordering: false });

              if (xhr["status"] == 420) {
                toastr["warning"](xhr["responseJSON"]["message"]);
              } else {
                toastr["error"](xhr["responseJSON"]["message"]);
              }
            },
            dataSrc: function (json) {
              json.iTotalRecords = json.data?.rows?.length;
              json.iTotalDisplayRecords = json.data?.count;

              // Return the data to be displayed in the DataTable
              return json?.data?.rows;
            },
          },
          columns: [
            { data: null },
            { data: null },
            { data: "shipping_carrier_names" },
            { data: "shipping_source" },
            { data: "shipping_destination" },
            { data: "shipping_price" },
            { data: "shipping_notes" },
            { data: "created_at" },
          ],
          columnDefs: [
            {
              targets: [0],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-pen-to-square edit editShipping" shipping_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to edit this row"></i>'
                );
              },
            },
            {
              targets: [1],
              className: "text-left",
              render: function (data, type, row) {
                return (
                  '<i class="fa fa-trash del delShipping" shipping_master_id=' +
                  row["id"] +
                  ' aria-hidden="true" style="font-size:15px;color:#f07b3f" data-toggle="tooltip" data-placement="top" title="Click this button to delete this row"></i>'
                );
              },
            },
            {
              targets: [3],
              className: "text-left",
              render: function (data, type, row) {
                return `<span carrier_master_id='${row["CarrierMaster"].id}'>${data}</span>`;
              },
            },
            {
              targets: [8],
              className: "text-left",
              render: function (data, type, row) {
                const date = new Date(row["created_at"]);

                var months = [
                  "Jan",
                  "Feb",
                  "Mar",
                  "Apr",
                  "May",
                  "Jun",
                  "Jul",
                  "Aug",
                  "Sep",
                  "Oct",
                  "Nov",
                  "Dec",
                ];
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12;
                hours = hours ? hours : 12; // Handle midnight (0 hours)
                minutes = minutes < 10 ? "0" + minutes : minutes;
                var strTime = hours + ":" + minutes + " " + ampm;
                var month = months[date.getMonth()];
                var day = date.getDate().toString().padStart(2, "0"); // Ensure day is always two digits
                return (
                  day + "-" + month + "-" + date.getFullYear() + " " + strTime
                );
              },
            },
          ],
          // "infoCallback": function (settings, start, end, max, total, pre) {
          //   return start + " to " + end;
          // }
        });
      }

      $(document).on("click", ".editShipping", (e) => {
        // Changing panel input fields data
        $("#shipping_carrier_name")
          .val(
            $(e.target)
              .closest("tr")
              .children("td")
              .eq(3)
              .find("span")
              .attr("carrier_master_id")
          )
          .trigger("change");
        $("#shipping_source").val(
          $(e.target).closest("tr").children("td").eq(3).text()
        );
        $("#shipping_destination").val(
          $(e.target).closest("tr").children("td").eq(4).text()
        );
        $("#shipping_price").val(
          $(e.target).closest("tr").children("td").eq(5).text()
        );
        $("#shipping_notes").val(
          $(e.target).closest("tr").children("td").eq(6).text()
        );

        // Opening Slied Panel
        $("#openShippingPanelBtn").click();

        // Changing panel heading
        $("#shippingPanelHeading").text("Edit Shipping Data");

        // Changing panel button label
        $("#submitShipping").text("Update");

        // Changing panel button attribute
        $("#submitShipping").attr(
          "shipping_master_id",
          $(e.target).attr("shipping_master_id")
        );
      });

      $(document).on("click", ".delShipping", (e) => {
        let shipping_master_id = $(e.target).attr("shipping_master_id");
        let currentRow = $(e.target).closest("tr");
        $.confirm({
          title: "Delete Shipping info?",
          content: "Are you sure, do you want to remove this shipping info?",
          backgroundDismiss: false,
          backgroundDismissAnimation: "glow",
          type: "red",
          closeIcon: true,
          closeIconClass: "fa fa-close",
          typeAnimated: true,
          boxWidth: "30%",
          useBootstrap: false,
          autoClose: "no|5000",
          buttons: {
            delete: {
              text: "Delete",
              btnClass: "btn-red",
              action: function () {
                $.ajax({
                  url:
                    "/api/v1/master/shipping?species_master_id=" +
                    species_master_id,
                  method: "DELETE",
                })
                  .done(function (response) {
                    //loading data to table
                    loadShippingTableData();

                    toastr.success(
                      "Shipping info deleted successfully",
                      "Deleted"
                    );
                  })
                  .fail(function (err) {
                    if (err["status"] == 420) {
                      toastr["warning"](err["responseJSON"]["message"]);
                    } else {
                      toastr["error"](err["responseJSON"]["message"]);
                    }
                  });
              },
            },
            no: function () {
              toastr.info("Shipping info is safe now", "Info");
            },
          },
        });
      });

      function loadShippingCarrier() {
        // Load Roles
        $.ajax({
          url: "/api/v1/master/carrier",
          method: "GET",
          dataType: "json",
          contentType: "application/json",
          crossDomain: true,
          processData: false,
          success: (data) => {
            // Loading data
            $("#shipping_carrier_name").select2({
              placeholder: "Choose a carrier company",
              allowClear: true,
              data: $.map(data?.data?.rows, function (item) {
                return {
                  id: item.id,
                  text: item.carrier_name,
                };
              }),
            });

            // Clearing selected value
            $("#shipping_carrier_name").val(null).trigger("change");
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      function saveShipping() {
        const shipping_master_id =
          $("#submitShipping").attr("shipping_master_id");

        let url = "/api/v1/master/shipping";
        let method = "POST";
        let input_params = {
          carrier_master_id: $("#shipping_carrier_name").val(),
          shipping_source: $("#shipping_source").val(),
          shipping_destination: $("#shipping_destination").val(),
          shipping_price: $("#shipping_price").val(),
          shipping_notes: $("#shipping_notes").val(),
        };

        if (shipping_master_id) {
          url = "/api/v1/master/shipping";
          method = "PUT";
          input_params = {
            shipping_master_id,
            shipping_master_data: {
              ...input_params,
            },
          };
        }

        $.ajax({
          url,
          method,
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(input_params),
          crossDomain: true,
          processData: false,
          success: (data) => {
            toastr["success"](data?.message);

            $("#closeShippingPanelBtn").click();

            loadShippingTableData();

            resetAllInputs();
          },
          error: (jqXhr, textStatus, errorThrown) => {
            if (jqXhr["status"] == 420) {
              toastr["warning"](jqXhr["responseJSON"]["message"]);
            } else {
              toastr["error"](jqXhr["responseJSON"]["message"]);
            }
          },
        });
      }

      $("#resetShippingDataBtn").on("click", resetAllInputs);
    });
  </script>
</html>
