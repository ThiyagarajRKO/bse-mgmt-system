<!-- @format -->

<!DOCTYPE html>
<html lang="en">
<!-- title logo -->
<link rel="icon" href="/public/images/bse.png" type="image/icon type" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

<!-- Bootstrap  -->
<link href="/public/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="/public/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- jQuery -->
<script src="/public/plugins/jquery/jquery.min.js"></script>

<!-- DataTable -->
<link rel="stylesheet" type="text/css" href="/public/plugins/DataTables/datatables.min.css" />

<!-- Toast -->
<link rel="stylesheet" href="/public/plugins/Toastr/toastr.min.css" />
<script src="/public/plugins/Toastr/toastr.min.js"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="/public/plugins/font-awesome/css/all.min.css" />

<!-- SideBar -->
<link rel="stylesheet" href="/public/plugins/offcanvas/css/hc-offcanvas-nav.css" />
<!-- <link
    rel="stylesheet"
    href="/public/plugins/offcanvas/css/to/hc-offcanvas-nav.carbon.css"
  /> -->
<script src="/public/plugins/offcanvas/js/hc-offcanvas-nav.js"></script>


<!-- Floating Menu -->
<link rel="stylesheet" href="/public/plugins/floating-menu/css/floating-menu.min.css">
<script src="/public/plugins/floating-menu/js/floating-menu.min.js"></script>

<!-- Custom CSS -->
<link rel="stylesheet" href="/public/css/style.css" />

<!-- Custom Script -->
<script src="/public/custom/App.js"></script>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BSE</title>

  <style type="text/css">
    @font-face {
      font-family: "CassandraPersonalUse";
      src: url("/public/fonts/CassandraPersonalUse/CassandraPersonalUse-Regular.ttf?v=2") format("truetype");
    }

    @font-face {
      font-family: "CerebriSansPro-Regular";
      src: url("/public/fonts/CerebriSansPro/CerebriSansPro-Regular.ttf?v=2") format("truetype");
    }

    body {
      font-family: "CerebriSansPro-Regular";
      overflow: hidden;
    }

    .sidemenu {
      border-radius: 0px 15px 15px 0px;
    }

    .sidemenu:hover {
      background-color: rgb(255, 207, 167);
      color: black;
      cursor: pointer;
    }

    .sidemenu.active {
      background-color: rgb(18, 18, 18);
      color: white;
      cursor: pointer;
    }

    .sidemenu.active:hover {
      cursor: auto;
    }

    .side-footer-bar {
      cursor: pointer;
    }

    #logout {
      cursor: pointer;
    }

    #loading-bar {
      display: none;
      height: 4px;
      width: 0%;
      background-color: #007bff;
      /* Loading bar color */
      position: fixed;
      top: 0;
      left: 0;
      z-index: 9999;
      transition: width 0.3s;
    }

    .dropdown:hover>.dropdown-menu {
      display: block;
    }

    .dropdown>.dropdown-toggle:active {
      /*Without this, clicking will make it sticky*/
      pointer-events: none;
    }
  </style>

</head>

<body>
  <!-- Loading bar -->
  <div id="loading-bar"></div>

  <div class="container-fluid">
    <div class="row vh-100">
      <!-- Sidemenu Container -->
      <div class="col-md-4 col-lg-3 px-0 mt-2">
        <div class="row vh-100 d-flex flex-column justify-content-between">


          <!-- Sidemenu Logo -->

          <div class="d-flex justify-content-around mb-4 pb-1 my-4">

            <img src="/public/images/logo.png" style="width: 230px" alt="" srcset="" /><br>

          </div>

          <br>

          <!-- Sidemenu Logo Ends -->


          <div class="col overflow-auto">
            <!-- Side Menus -->
            <div class="d-flex flex-column">
              <!-- Dashboard Menu -->
              <div id="dashboard" class="sidemenu py-3 px-4 d-flex justify-content-center active">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-grip"></i>
                </div>
                <div class="col fw-bold">
                  <span>Dashboard</span>
                </div>
              </div>


              <!-- Procurement Menu -->
              <div class="sidemenu py-3 px-4 d-flex justify-content-center">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-cart-flatbed-suitcase"></i>
                </div>
                <div class="col fw-bold">
                  <span>Procurement</span>
                </div>
              </div>

              <!-- Production Menu -->
              <div id="productionMenu" class="sidemenu btn-group py-3 px-4 d-flex justify-content-center"
                data-fm-floatTo='right'>

                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-gears"></i>
                </div>
                <div class="col fw-bold">
                  <span>Production</span>
                </div>

                <div id="tooltip" role="tooltip">
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                  </ul>
                </div>
              </div>

              <!-- Sales Menu -->
              <div class="sidemenu py-3 px-4 d-flex justify-content-center">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-business-time"></i></i>
                </div>
                <div class="col fw-bold">
                  <span>Sales</span>
                </div>
              </div>

              <!-- Accounting Menu -->
              <div class="sidemenu py-3 px-4 d-flex justify-content-center">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-hand-holding-dollar"></i>
                </div>
                <div class="col fw-bold">
                  <span>Accounting</span>
                </div>
              </div>

              <!-- Report Menu -->
              <div class="sidemenu py-3 px-4 d-flex justify-content-center">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-clipboard"></i>
                </div>
                <div class="col fw-bold">
                  <span>Report</span>
                </div>
              </div>

              <!-- Master Menu -->
              <div class="sidemenu py-3 px-4 d-flex justify-content-center" id="masterData">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-solid fa-database"></i>
                </div>
                <div class="col fw-bold">
                  <span>Master Data</span>
                </div>
              </div>

              <!-- Audit Menu -->
              <div class="sidemenu py-3 px-4 d-flex justify-content-center">
                <div class="col-xs-1 col-sm-1 col-md-3 col-lg-3 d-flex justify-content-center my-auto">
                  <i class="fa-regular fa-newspaper"></i>
                </div>
                <div class="col fw-bold">
                  <span>Audit Logs</span>
                </div>
              </div>

            </div>
            <!-- Side Menus End -->
          </div>


          <!-- Side Menu Footer -->
          <div class="row d-flex justify-content-between fs-6 py-2 mb-4 bg-white">
            <div class="side-footer-bar col-xs-3 col-sm-3 col-md-3 col-lg-3 d-flex justify-content-end py-3">
              <i id="notification" class="fa-solid fa-bell"></i>
            </div>
            <div class="side-footer-bar col-xs-3 col-sm-3 col-md-3 col-lg-3 d-flex justify-content-center py-3">
              <i id="settings" class="fa-solid fa-gear"></i>
            </div>
            <div class="side-footer-bar col-xs-3 col-sm-3 col-md-3 col-lg-3 d-flex justify-content-start py-3">
              <i id="map" class="fa-solid fa-map-location-dot"></i>
            </div>
          </div>
          <!-- Side Menu Footer Ends -->

        </div>
      </div>


      <div class="col-md-8 col-lg-9 fw-bold pt-2 mt-3 px-4">
        <!-- Body Navbar -->
        <div class="row pb-3">
          <div class="col-md-6 col-lg-6 fs-4">Hello, <%=full_name%>!</div>
          <div class="col-md-6 col-lg-6 d-flex justify-content-end">
            <i class="fas fa-power-off fs-5" id="logout"></i>
          </div>
        </div>

        <!-- ------------------------------------------------------------------------- -->
        <!-- ----------------------------- IFrame Contents --------------------------- -->
        <!-- ------------------------------------------------------------------------- -->

        <div id="iframe-container" class="overflow-auto embed-responsive embed-responsive-4by3">
          <iframe id="iframe-main-content" class="frame vh-100 w-100 embed-responsive-item" src=""
            frameborder="0"></iframe>
        </div>

      </div>
    </div>
  </div>
</body>

<script type="text/javascript">
  jQuery(document).ready(function ($) {
    App.checkAccess();

    let $nav = $("#navbar-toggler").hcOffcanvasNav({
      disableAt: false,
      levelOpen: "expand",
    });
    let Nav = $nav.data("hcOffcanvasNav");

    //   $("#main-nav").hcOffcanvasNav({
    //     disableAt: 1024,
    //     customToggle: $(".toggle"),
    //     navTitle: "All Categories",
    //     levelTitles: true,
    //     levelTitleAsBack: true,
    //   });

    $("#logout").on("click", App.logout);

    toastr.options = {
      closeButton: false,
      debug: false,
      newestOnTop: true,
      progressBar: true,
      positionClass: "toast-top-right",
      preventDuplicates: false,
      onclick: null,
      showDuration: "300",
      hideDuration: "1000",
      timeOut: "5000",
      extendedTimeOut: "1000",
      showEasing: "swing",
      hideEasing: "linear",
      showMethod: "fadeIn",
      hideMethod: "fadeOut",
    };

    $.floatingMenu({
      selector: '#productionMenu',
      items: [
        {
          icon: '',// icon classes
          title: '<a href="https://www.jqueryscript.net/tags.php?/Facebook/">Facebook</a>',
          action: 'http://www.facebook.com/jqueryscript'
        },
        {
          title: 'Insert',
          action: function (event) {
            alert('insert');
          }
        },
      ]
    });


    $("#notification").hover(function () {
      $(this).addClass("fa-shake")
    }, function () {
      $(this).removeClass('fa-shake');
    })

    $("#settings").hover(function () {
      $(this).addClass("fa-spin")
    }, function () {
      $(this).removeClass('fa-spin');
    })

    $("#logout").hover(function () {
      $(this).addClass("fa-beat")
    }, function () {
      $(this).removeClass('fa-beat');
    })

    $(".sidemenu:not(.active)").hover(function () {
      $(this).find('i').addClass("fa-bounce")
    }, function () {
      $(this).find('i').removeClass('fa-bounce');
    })

    $("#map").hover(function () {
      $(this).addClass("fa-beat-fade")
    }, function () {
      $(this).removeClass('fa-beat-fade');
    })


    // Dashboard navigation
    $("#dashboard").on('click', function () {

      $('.sidemenu').removeClass("active")

      $(this).addClass("active");

      loadIframe("")

      // document.getElementById("iframe-main-content").src = "";
    })

    // Master data navigation
    $("#masterData").on('click', function () {

      $('.sidemenu').removeClass("active")

      $(this).addClass("active");

      loadIframe("/MasterData")

      // document.getElementById("iframe-main-content").src = "/MasterData";
    })

    function loadIframe(src) {
      var iframe = document.getElementById('iframe-main-content');
      var loadingBar = document.getElementById('loading-bar');

      // Show loading bar
      loadingBar.style.display = 'block';
      loadingBar.style.width = '0%'; // Reset width

      // Show iframe container
      document.getElementById('iframe-container').style.display = 'block';

      // Update iframe src
      iframe.src = src;

      // Listen for iframe load event
      iframe.onload = function () {
        // Hide loading bar when iframe is loaded
        loadingBar.style.display = 'none';
      };

      // Update loading bar width as iframe loads
      iframe.addEventListener('progress', function (event) {
        var percentComplete = (event.loaded / event.total) * 100;
        loadingBar.style.width = percentComplete + '%';
      });
    }


  });
</script>

</html>